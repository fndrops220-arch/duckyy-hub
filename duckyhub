-- Ducky Hub v2 - ULTRA PREMIUM SLICK EDITION
-- Enhanced glassmorphism with premium animations
-- Created by Ducky Team - discord.gg/duGj8hjB

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

print("ü¶Ü Ducky Hub v2 ULTRA SLICK loading...")

-- Premium Color Palette (Enhanced)
local COLORS = {
	-- Primary gradient colors
	PRIMARY = Color3.fromRGB(99, 102, 241),
	PRIMARY_LIGHT = Color3.fromRGB(129, 140, 248),
	PRIMARY_DARK = Color3.fromRGB(79, 70, 229),
	PRIMARY_GLOW = Color3.fromRGB(139, 150, 255),
	
	-- Accent colors
	ACCENT = Color3.fromRGB(236, 72, 153),
	ACCENT_LIGHT = Color3.fromRGB(251, 113, 133),
	ACCENT_DARK = Color3.fromRGB(219, 39, 119),
	
	-- Success/Warning/Danger
	SUCCESS = Color3.fromRGB(34, 197, 94),
	SUCCESS_GLOW = Color3.fromRGB(74, 222, 128),
	WARNING = Color3.fromRGB(251, 146, 60),
	DANGER = Color3.fromRGB(239, 68, 68),
	
	-- Backgrounds (glassmorphism)
	BG_GLASS = Color3.fromRGB(15, 23, 42),
	BG_GLASS_LIGHT = Color3.fromRGB(30, 41, 59),
	BG_DARK = Color3.fromRGB(2, 6, 23),
	BG_CARD = Color3.fromRGB(20, 28, 48),
	
	-- Text
	TEXT = Color3.fromRGB(248, 250, 252),
	TEXT_MUTED = Color3.fromRGB(148, 163, 184),
	TEXT_DARK = Color3.fromRGB(100, 116, 139),
	TEXT_DIMMED = Color3.fromRGB(71, 85, 105),
}

-- Enhanced Animation presets
local ANIM = {
	INSTANT = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
	FAST = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
	SMOOTH = TweenInfo.new(0.4, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut),
	BOUNCE = TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
	ELASTIC = TweenInfo.new(0.7, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out),
	SPRING = TweenInfo.new(0.6, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out),
}

-- HIGH VALUE BRAINROTS with base values
local SECRET_BRAINROTS = {
	["Jolly Jolly Sahur"] = 50000000,
	["Lavadorito Spinito"] = 45000000,
	["Garama and Madundung"] = 50000000,
	["Spaghetti Tualetti"] = 60000000,
	["Festive 67"] = 67000000,
	["Los Spaghettis"] = 75000000,
	["Ginger Gerat"] = 75000000,
	["La Ginger Skolah"] = 75000000,
	["Dragon Cannelloni"] = 250000000,
	["Hydra Dragon Cannelloni"] = 350000000,
	["Reinito Sleighito"] = 140000000,
	["Burguro And Fryuro"] = 150000000,
	["Cooki and Milki"] = 155000000,
	["Capitano Moby"] = 160000000,
	["Cerberus"] = 170000000,
	["La Supreme Combinasion"] = 200000000,
	["Spooky and Pumpky"] = 80000000,
	["La Casa Boo"] = 100000000,
	["Fragrama and Chocrama"] = 100000000,
	["La Secret Combinasion"] = 125000000
}

-- TRAIT MULTIPLIERS
local TRAITS = {
	["Strawberry"] = 8, ["Meowl"] = 7,
	["Fire"] = 6, ["Fireworks"] = 6, ["Nyan"] = 6, ["Brazil"] = 6, 
	["Lightning"] = 6, ["Paint"] = 6, ["Jack O'Lantern Pet"] = 6,
	["Tung Tung Attack"] = 5, ["Indonesian"] = 5, ["Crab Claw"] = 5, 
	["Crab"] = 5, ["Disco"] = 5, ["Rap Concert"] = 5, ["Sombrero"] = 5, 
	["Glitched"] = 5, ["RIP Tombstone"] = 5, ["Santa Hat"] = 5,
	["Tie"] = 4.75, ["Matteo Hat"] = 4.5, ["Witching Hour"] = 4.5,
	["10B"] = 4, ["Bubblegum"] = 4, ["Shark Fin"] = 4, ["Galactic"] = 4, 
	["Explosive"] = 4, ["Extinct"] = 4,
	["Spider"] = 3.5, ["Comet-struck"] = 3.5,
	["Taco"] = 3, ["UFO"] = 3, ["Wet"] = 3, ["Snowy"] = 3,
	["Sleepy"] = 0.5,
}

-- TRAIT EMOJIS
local TRAIT_EMOJIS = {
	["Strawberry"] = "üçì", ["Meowl"] = "üò∫", ["Fire"] = "üî•", ["Fireworks"] = "üéÜ",
	["Nyan"] = "üåà", ["Brazil"] = "üáßüá∑", ["Lightning"] = "‚ö°", ["Paint"] = "üé®",
	["Jack O'Lantern Pet"] = "üéÉ", ["Tung Tung Attack"] = "ü•Å", ["Indonesian"] = "üáÆüá©",
	["Crab Claw"] = "ü¶Ä", ["Crab"] = "ü¶Ä", ["Disco"] = "ü™©", ["Rap Concert"] = "üé§",
	["Sombrero"] = "üé©", ["Glitched"] = "‚ö†Ô∏è", ["RIP Tombstone"] = "ü™¶", ["Santa Hat"] = "üéÖ",
	["Tie"] = "üëî", ["Matteo Hat"] = "üé©", ["Witching Hour"] = "üßô", ["10B"] = "üíØ",
	["Bubblegum"] = "ü´ß", ["Shark Fin"] = "ü¶à", ["Galactic"] = "üåå", ["Explosive"] = "üí•",
	["Extinct"] = "ü¶¥", ["Spider"] = "üï∑Ô∏è", ["Comet-struck"] = "‚òÑÔ∏è", ["Taco"] = "üåÆ",
	["UFO"] = "üõ∏", ["Wet"] = "üíß", ["Snowy"] = "‚ùÑÔ∏è", ["Sleepy"] = "üò¥",
}

-- MUTATION MULTIPLIERS
local MUTATIONS = {
	["Rainbow"] = 10, ["Cursed"] = 9, ["Radioactive"] = 8.5, ["Yin Yang"] = 7.5,
	["Galaxy"] = 7, ["Lava"] = 6, ["Candy"] = 4, ["Bloodrot"] = 2,
	["Diamond"] = 1.5, ["Gold"] = 1.25,
}

-- MUTATION EMOJIS
local MUTATION_EMOJIS = {
	["Rainbow"] = "üåà", ["Cursed"] = "üòà", ["Radioactive"] = "‚ò¢Ô∏è", ["Yin Yang"] = "‚òØÔ∏è",
	["Galaxy"] = "üåå", ["Lava"] = "üåã", ["Candy"] = "üç¨", ["Bloodrot"] = "ü©∏",
	["Diamond"] = "üíé", ["Gold"] = "‚ú®",
}

-- Helper function to format numbers
local function formatMoney(num)
	if num >= 1000000000 then
		return string.format("%.1fB", num / 1000000000)
	elseif num >= 1000000 then
		return string.format("%.1fM", num / 1000000)
	elseif num >= 1000 then
		return string.format("%.1fK", num / 1000)
	else
		return tostring(math.floor(num))
	end
end

-- Create UI
local gui = Instance.new("ScreenGui")
gui.Name = "DuckyHubUltraSlick"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.DisplayOrder = 9999

local success, playerGui = pcall(function()
	return player:WaitForChild("PlayerGui", 5)
end)

if success and playerGui then
	gui.Parent = playerGui
else
	warn("‚ö†Ô∏è Could not find PlayerGui")
	return
end

-- Main container with enhanced glassmorphism (LINE ~155)
local main = Instance.new("Frame", gui)
main.Size = UDim2.fromOffset(720, 480)  -- Changed from 920, 620
main.Position = UDim2.new(0.5, -360, 0.5, -240)  -- Changed from -460, -310
main.BackgroundColor3 = COLORS.BG_GLASS
main.BackgroundTransparency = 0.12
main.BorderSizePixel = 0
main.ClipsDescendants = true
main.Active = true

local mainCorner = Instance.new("UICorner", main)
mainCorner.CornerRadius = UDim.new(0, 28)

-- Layered glass effect
local glassLayer1 = Instance.new("Frame", main)
glassLayer1.Size = UDim2.fromScale(1, 1)
glassLayer1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
glassLayer1.BackgroundTransparency = 0.94
glassLayer1.BorderSizePixel = 0
glassLayer1.ZIndex = 1

local layer1Corner = Instance.new("UICorner", glassLayer1)
layer1Corner.CornerRadius = UDim.new(0, 28)

local glassLayer2 = Instance.new("Frame", main)
glassLayer2.Size = UDim2.fromScale(1, 0.3)
glassLayer2.Position = UDim2.fromScale(0, 0)
glassLayer2.BackgroundColor3 = COLORS.PRIMARY_GLOW
glassLayer2.BackgroundTransparency = 0.92
glassLayer2.BorderSizePixel = 0
glassLayer2.ZIndex = 1

local layer2Corner = Instance.new("UICorner", glassLayer2)
layer2Corner.CornerRadius = UDim.new(0, 28)

local layer2Gradient = Instance.new("UIGradient", glassLayer2)
layer2Gradient.Color = ColorSequence.new({
	ColorSequenceKeypoint.new(0, COLORS.PRIMARY),
	ColorSequenceKeypoint.new(0.5, COLORS.ACCENT),
	ColorSequenceKeypoint.new(1, COLORS.PRIMARY_DARK)
})
layer2Gradient.Rotation = 45
layer2Gradient.Transparency = NumberSequence.new({
	NumberSequenceKeypoint.new(0, 0),
	NumberSequenceKeypoint.new(1, 1)
})

-- Animated gradient overlay
spawn(function()
	while gui.Parent do
		for i = 45, 405, 0.3 do
			if not gui.Parent then break end
			layer2Gradient.Rotation = i % 360
			task.wait(0.02)
		end
	end
end)

-- Multi-layered glow border
local mainStroke = Instance.new("UIStroke", main)
mainStroke.Color = COLORS.PRIMARY_GLOW
mainStroke.Thickness = 2
mainStroke.Transparency = 0.4
mainStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Outer glow effect
local outerGlow = Instance.new("ImageLabel", main)
outerGlow.Size = UDim2.fromScale(1.02, 1.02)
outerGlow.Position = UDim2.fromScale(0.5, 0.5)
outerGlow.AnchorPoint = Vector2.new(0.5, 0.5)
outerGlow.BackgroundTransparency = 1
outerGlow.Image = "rbxassetid://5028857084"
outerGlow.ImageColor3 = COLORS.PRIMARY
outerGlow.ImageTransparency = 0.7
outerGlow.ScaleType = Enum.ScaleType.Slice
outerGlow.SliceCenter = Rect.new(24, 24, 276, 276)
outerGlow.ZIndex = 0

-- Animated border glow
spawn(function()
	while gui.Parent do
		TweenService:Create(mainStroke, TweenInfo.new(2.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			Color = COLORS.ACCENT,
			Transparency = 0.15
		}):Play()
		TweenService:Create(outerGlow, TweenInfo.new(2.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			ImageColor3 = COLORS.ACCENT,
			ImageTransparency = 0.5
		}):Play()
		task.wait(2.5)
		if not gui.Parent then break end
		TweenService:Create(mainStroke, TweenInfo.new(2.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			Color = COLORS.PRIMARY_GLOW,
			Transparency = 0.4
		}):Play()
		TweenService:Create(outerGlow, TweenInfo.new(2.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			ImageColor3 = COLORS.PRIMARY,
			ImageTransparency = 0.7
		}):Play()
		task.wait(2.5)
	end
end)

-- Enhanced floating particles
local particlesContainer = Instance.new("Frame", main)
particlesContainer.Size = UDim2.fromScale(1, 1)
particlesContainer.BackgroundTransparency = 1
particlesContainer.ZIndex = 2

for i = 1, 20 do
	local particle = Instance.new("Frame", particlesContainer)
	local size = math.random(3, 10)
	particle.Size = UDim2.fromOffset(size, size)
	particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
	particle.BackgroundColor3 = i % 3 == 0 and COLORS.ACCENT_LIGHT or (i % 3 == 1 and COLORS.PRIMARY_LIGHT or COLORS.SUCCESS_GLOW)
	particle.BackgroundTransparency = math.random(85, 96) / 100
	particle.BorderSizePixel = 0
	
	local particleCorner = Instance.new("UICorner", particle)
	particleCorner.CornerRadius = UDim.new(1, 0)
	
	-- Add glow to some particles
	if i % 4 == 0 then
		local particleGlow = Instance.new("ImageLabel", particle)
		particleGlow.Size = UDim2.fromScale(2, 2)
		particleGlow.Position = UDim2.fromScale(0.5, 0.5)
		particleGlow.AnchorPoint = Vector2.new(0.5, 0.5)
		particleGlow.BackgroundTransparency = 1
		particleGlow.Image = "rbxassetid://5028857084"
		particleGlow.ImageColor3 = particle.BackgroundColor3
		particleGlow.ImageTransparency = 0.8
		particleGlow.ScaleType = Enum.ScaleType.Slice
		particleGlow.SliceCenter = Rect.new(24, 24, 276, 276)
		particleGlow.ZIndex = 1
	end
	
	spawn(function()
		while gui.Parent and particle.Parent do
			local duration = math.random(25, 40)
			TweenService:Create(particle, TweenInfo.new(duration, Enum.EasingStyle.Linear), {
				Position = UDim2.new(math.random(), 0, math.random(), 0)
			}):Play()
			task.wait(duration)
		end
	end)
	
	spawn(function()
		while gui.Parent and particle.Parent do
			local duration = math.random(3, 6)
			TweenService:Create(particle, TweenInfo.new(duration, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				BackgroundTransparency = math.random(70, 85) / 100,
				Rotation = math.random(-180, 180)
			}):Play()
			task.wait(duration)
			if not gui.Parent then break end
			TweenService:Create(particle, TweenInfo.new(duration, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				BackgroundTransparency = math.random(90, 98) / 100,
				Rotation = math.random(-180, 180)
			}):Play()
			task.wait(duration)
		end
	end)
end

-- Draggable with smooth motion
local dragging, dragInput, mousePos, framePos

main.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		mousePos = input.Position
		framePos = main.Position
		
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - mousePos
		TweenService:Create(main, ANIM.INSTANT, {
			Position = UDim2.new(
				framePos.X.Scale, framePos.X.Offset + delta.X,
				framePos.Y.Scale, framePos.Y.Offset + delta.Y
			)
		}):Play()
	end
end)

-- Enhanced Top bar
local topBar = Instance.new("Frame", main)
topBar.Size = UDim2.fromOffset(720, 60)  -- Changed from 920, 75
topBar.BackgroundTransparency = 1
topBar.ZIndex = 3

-- Logo with enhanced styling
local logoContainer = Instance.new("Frame", topBar)
logoContainer.Size = UDim2.fromOffset(180, 60)  -- Changed from 220, 75
logoContainer.Position = UDim2.fromOffset(20, 0)  -- Changed from 25, 0
logoContainer.BackgroundTransparency = 1

local duckIcon = Instance.new("TextLabel", logoContainer)
duckIcon.Size = UDim2.fromOffset(45, 45)  -- Changed from 55, 55
duckIcon.Position = UDim2.fromOffset(0, 8)  -- Changed from 0, 10
duckIcon.BackgroundTransparency = 1
duckIcon.Text = "ü¶Ü"
duckIcon.Font = Enum.Font.GothamBold
duckIcon.TextSize = 32  -- Changed from 40
duckIcon.ZIndex = 4

-- Add glow to duck icon
local duckGlow = Instance.new("ImageLabel", duckIcon)
duckGlow.Size = UDim2.fromScale(1.5, 1.5)
duckGlow.Position = UDim2.fromScale(0.5, 0.5)
duckGlow.AnchorPoint = Vector2.new(0.5, 0.5)
duckGlow.BackgroundTransparency = 1
duckGlow.Image = "rbxassetid://5028857084"
duckGlow.ImageColor3 = COLORS.ACCENT
duckGlow.ImageTransparency = 0.6
duckGlow.ScaleType = Enum.ScaleType.Slice
duckGlow.SliceCenter = Rect.new(24, 24, 276, 276)
duckGlow.ZIndex = 3

spawn(function()
	while gui.Parent do
		TweenService:Create(duckIcon, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			TextSize = 44,
			Rotation = 5
		}):Play()
		TweenService:Create(duckGlow, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			ImageTransparency = 0.4
		}):Play()
		task.wait(2)
		if not gui.Parent then break end
		TweenService:Create(duckIcon, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			TextSize = 40,
			Rotation = -5
		}):Play()
		TweenService:Create(duckGlow, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			ImageTransparency = 0.6
		}):Play()
		task.wait(2)
	end
end)

local titleLabel = Instance.new("TextLabel", logoContainer)
titleLabel.Size = UDim2.fromOffset(130, 28)  -- Changed from 155, 32
titleLabel.Position = UDim2.fromOffset(50, 10)  -- Changed from 60, 12
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "DUCKY HUB"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 20  -- Changed from 24
titleLabel.TextColor3 = COLORS.TEXT
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.ZIndex = 4

-- Add gradient to title
local titleGradient = Instance.new("UIGradient", titleLabel)
titleGradient.Color = ColorSequence.new({
	ColorSequenceKeypoint.new(0, COLORS.TEXT),
	ColorSequenceKeypoint.new(1, COLORS.PRIMARY_LIGHT)
})
titleGradient.Rotation = 90

local subtitle = Instance.new("TextLabel", logoContainer)
subtitle.Size = UDim2.fromOffset(130, 18)  -- Changed from 155, 22
subtitle.Position = UDim2.fromOffset(50, 38)  -- Changed from 60, 45
subtitle.BackgroundTransparency = 1
subtitle.Text = "discord.gg/duGj8hjB"
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 10  -- Changed from 11
subtitle.TextColor3 = COLORS.TEXT_MUTED
subtitle.TextXAlignment = Enum.TextXAlignment.Left
subtitle.ZIndex = 4

-- Enhanced version badge
local versionBadge = Instance.new("Frame", topBar)
versionBadge.Size = UDim2.fromOffset(80, 28)  -- Changed from 90, 32
versionBadge.Position = UDim2.fromOffset(210, 16)  -- Changed from 255, 22
versionBadge.BackgroundColor3 = COLORS.PRIMARY
versionBadge.BackgroundTransparency = 0.1
versionBadge.BorderSizePixel = 0
versionBadge.ZIndex = 4

local badgeCorner = Instance.new("UICorner", versionBadge)
badgeCorner.CornerRadius = UDim.new(0, 8)  -- Changed from 10

local badgeCorner = Instance.new("UICorner", versionBadge)
badgeCorner.CornerRadius = UDim.new(0, 10)

local badgeStroke = Instance.new("UIStroke", versionBadge)
badgeStroke.Color = COLORS.ACCENT
badgeStroke.Thickness = 1.5
badgeStroke.Transparency = 0.4

local badgeGradient = Instance.new("UIGradient", versionBadge)
badgeGradient.Color = ColorSequence.new({
	ColorSequenceKeypoint.new(0, COLORS.PRIMARY),
	ColorSequenceKeypoint.new(1, COLORS.PRIMARY_DARK)
})
badgeGradient.Rotation = 135

local versionText = Instance.new("TextLabel", versionBadge)
versionText.Size = UDim2.fromScale(1, 1)
versionText.BackgroundTransparency = 1
versionText.Text = "v2.0 SLICK"
versionText.Font = Enum.Font.GothamBold
versionText.TextSize = 11
versionText.TextColor3 = COLORS.TEXT
versionText.ZIndex = 5

-- Animated sparkle effect
local sparkle = Instance.new("Frame", versionBadge)
sparkle.Size = UDim2.fromOffset(3, 32)
sparkle.Position = UDim2.fromOffset(-10, 0)
sparkle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
sparkle.BackgroundTransparency = 0.3
sparkle.BorderSizePixel = 0
sparkle.ZIndex = 6

spawn(function()
	while gui.Parent and versionBadge.Parent do
		TweenService:Create(sparkle, TweenInfo.new(1.5, Enum.EasingStyle.Linear), {
			Position = UDim2.fromOffset(100, 0)
		}):Play()
		task.wait(3)
		if not gui.Parent then break end
		sparkle.Position = UDim2.fromOffset(-10, 0)
	end
end)

-- Premium close button
local closeBtn = Instance.new("TextButton", topBar)
closeBtn.Size = UDim2.fromOffset(38, 38)  -- Changed from 45, 45
closeBtn.Position = UDim2.fromOffset(672, 11)  -- Changed from 860, 15
closeBtn.BackgroundColor3 = COLORS.DANGER
closeBtn.BackgroundTransparency = 0.8
closeBtn.Text = "‚úï"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 18  -- Changed from 22
closeBtn.TextColor3 = COLORS.TEXT
closeBtn.BorderSizePixel = 0
closeBtn.AutoButtonColor = false
closeBtn.ZIndex = 4

local closeCorner = Instance.new("UICorner", closeBtn)
closeCorner.CornerRadius = UDim.new(0, 12)  -- Changed from 14

local closeCorner = Instance.new("UICorner", closeBtn)
closeCorner.CornerRadius = UDim.new(0, 14)

local closeStroke = Instance.new("UIStroke", closeBtn)
closeStroke.Color = COLORS.DANGER
closeStroke.Thickness = 2
closeStroke.Transparency = 0.5

closeBtn.MouseEnter:Connect(function()
	TweenService:Create(closeBtn, ANIM.SMOOTH, {
		BackgroundTransparency = 0,
		Size = UDim2.fromOffset(42, 42),  -- Changed from 50, 50
		Rotation = 90
	}):Play()
	TweenService:Create(closeStroke, ANIM.SMOOTH, {Transparency = 0, Thickness = 2.5}):Play()
end)

closeBtn.MouseLeave:Connect(function()
	TweenService:Create(closeBtn, ANIM.SMOOTH, {
		BackgroundTransparency = 0.8,
		Size = UDim2.fromOffset(38, 38),  -- Changed from 45, 45
		Rotation = 0
	}):Play()
	TweenService:Create(closeStroke, ANIM.SMOOTH, {Transparency = 0.5, Thickness = 2}):Play()
end)

closeBtn.MouseButton1Click:Connect(function()
	TweenService:Create(main, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
		BackgroundTransparency = 1,
		Size = UDim2.fromOffset(620, 420),  -- Changed from 800, 550
		Position = UDim2.new(0.5, -310, 0.5, -210)  -- Changed from -400, -275
	}):Play()
	
	for _, child in pairs(main:GetDescendants()) do
		pcall(function()
			if child:IsA("TextLabel") or child:IsA("TextButton") then
				TweenService:Create(child, TweenInfo.new(0.4), {
					TextTransparency = 1,
					BackgroundTransparency = 1
				}):Play()
			elseif child:IsA("Frame") or child:IsA("ScrollingFrame") or child:IsA("ImageLabel") then
				TweenService:Create(child, TweenInfo.new(0.4), {
					BackgroundTransparency = 1,
					ImageTransparency = 1
				}):Play()
			elseif child:IsA("UIStroke") then
				TweenService:Create(child, TweenInfo.new(0.4), {Transparency = 1}):Play()
			end
		end)
	end
	
	task.wait(0.4)
	gui:Destroy()
	print("üëã Ducky Hub closed")
end)

-- Premium divider with gradient
local divider = Instance.new("Frame", main)
divider.Size = UDim2.fromOffset(690, 2)  -- Changed from 880, 2
divider.Position = UDim2.fromOffset(15, 65)  -- Changed from 20, 80
divider.BackgroundColor3 = COLORS.PRIMARY
divider.BackgroundTransparency = 0.5
divider.BorderSizePixel = 0
divider.ZIndex = 3

local dividerCorner = Instance.new("UICorner", divider)
dividerCorner.CornerRadius = UDim.new(1, 0)

local dividerGradient = Instance.new("UIGradient", divider)
dividerGradient.Color = ColorSequence.new({
	ColorSequenceKeypoint.new(0, COLORS.PRIMARY),
	ColorSequenceKeypoint.new(0.5, COLORS.ACCENT),
	ColorSequenceKeypoint.new(1, COLORS.PRIMARY)
})
dividerGradient.Transparency = NumberSequence.new({
	NumberSequenceKeypoint.new(0, 1),
	NumberSequenceKeypoint.new(0.5, 0),
	NumberSequenceKeypoint.new(1, 1)
})

-- Enhanced Sidebar
local sidebar = Instance.new("Frame", main)
sidebar.Size = UDim2.fromOffset(180, 400)  -- Changed from 230, 520
sidebar.Position = UDim2.fromOffset(12, 72)  -- Changed from 15, 90
sidebar.BackgroundColor3 = COLORS.BG_CARD
sidebar.BackgroundTransparency = 0.3
sidebar.BorderSizePixel = 0
sidebar.ZIndex = 3

local sidebarCorner = Instance.new("UICorner", sidebar)
sidebarCorner.CornerRadius = UDim.new(0, 20)

local sidebarStroke = Instance.new("UIStroke", sidebar)
sidebarStroke.Color = COLORS.PRIMARY
sidebarStroke.Thickness = 1.5
sidebarStroke.Transparency = 0.65

-- Add subtle inner glow to sidebar
local sidebarGlow = Instance.new("Frame", sidebar)
sidebarGlow.Size = UDim2.fromScale(1, 0.15)
sidebarGlow.Position = UDim2.fromScale(0, 0)
sidebarGlow.BackgroundColor3 = COLORS.PRIMARY_GLOW
sidebarGlow.BackgroundTransparency = 0.85
sidebarGlow.BorderSizePixel = 0
sidebarGlow.ZIndex = 3

local sidebarGlowCorner = Instance.new("UICorner", sidebarGlow)
sidebarGlowCorner.CornerRadius = UDim.new(0, 20)

local sidebarGlowGradient = Instance.new("UIGradient", sidebarGlow)
sidebarGlowGradient.Transparency = NumberSequence.new({
	NumberSequenceKeypoint.new(0, 0),
	NumberSequenceKeypoint.new(1, 1)
})
sidebarGlowGradient.Rotation = 90

local navContainer = Instance.new("Frame", sidebar)
navContainer.Size = UDim2.fromOffset(165, 380)  -- Changed from 210, 490
navContainer.Position = UDim2.fromOffset(8, 10)  -- Changed from 10, 15
navContainer.BackgroundTransparency = 1

--- Enhanced Content area
local contentArea = Instance.new("Frame", main)
contentArea.Size = UDim2.fromOffset(515, 400)  -- Changed from 655, 520
contentArea.Position = UDim2.fromOffset(200, 72)  -- Changed from 255, 90
contentArea.BackgroundTransparency = 1
contentArea.ZIndex = 3
contentArea.ClipsDescendants = true

-- Create enhanced section
local function createSection(name, emoji)
	local section = Instance.new("Frame", contentArea)
	section.Name = name .. "Section"
	section.Size = UDim2.fromOffset(515, 400)  -- Changed from 655, 520
	section.BackgroundTransparency = 1
	section.Visible = false
	section.ZIndex = 4
	
	local header = Instance.new("Frame", section)
	header.Size = UDim2.fromOffset(500, 55)  -- Changed from 635, 70
	header.Position = UDim2.fromOffset(8, 0)  -- Changed from 10, 0
	header.BackgroundColor3 = COLORS.BG_CARD
	header.BackgroundTransparency = 0.4
	header.BorderSizePixel = 0
	
	local headerCorner = Instance.new("UICorner", header)
	headerCorner.CornerRadius = UDim.new(0, 14)  -- Changed from 18
	
	local headerStroke = Instance.new("UIStroke", header)
	headerStroke.Color = COLORS.PRIMARY
	headerStroke.Thickness = 1.5
	headerStroke.Transparency = 0.65
	
	-- Header gradient overlay
	local headerGradient = Instance.new("Frame", header)
	headerGradient.Size = UDim2.fromScale(1, 0.5)
	headerGradient.BackgroundColor3 = COLORS.PRIMARY_GLOW
	headerGradient.BackgroundTransparency = 0.9
	headerGradient.BorderSizePixel = 0
	
	local headerGradientCorner = Instance.new("UICorner", headerGradient)
	headerGradientCorner.CornerRadius = UDim.new(0, 14)  -- Changed from 18
	
	local headerGradientGrad = Instance.new("UIGradient", headerGradient)
	headerGradientGrad.Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 0),
		NumberSequenceKeypoint.new(1, 1)
	})
	headerGradientGrad.Rotation = 90
	
	local headerIcon = Instance.new("TextLabel", header)
	headerIcon.Size = UDim2.fromOffset(36, 36)  -- Changed from 45, 45
	headerIcon.Position = UDim2.fromOffset(12, 10)  -- Changed from 18, 12
	headerIcon.BackgroundTransparency = 1
	headerIcon.Text = emoji
	headerIcon.Font = Enum.Font.GothamBold
	headerIcon.TextSize = 26  -- Changed from 32
	headerIcon.TextColor3 = COLORS.ACCENT_LIGHT
	headerIcon.ZIndex = 2
	
	local headerTitle = Instance.new("TextLabel", header)
	headerTitle.Size = UDim2.fromOffset(440, 55)  -- Changed from 550, 70
	headerTitle.Position = UDim2.fromOffset(60, 0)  -- Changed from 75, 0
	headerTitle.BackgroundTransparency = 1
	headerTitle.Text = name
	headerTitle.Font = Enum.Font.GothamBold
	headerTitle.TextSize = 18  -- Changed from 22
	headerTitle.TextColor3 = COLORS.TEXT
	headerTitle.TextXAlignment = Enum.TextXAlignment.Left
	headerTitle.ZIndex = 2
	
	local content = Instance.new("ScrollingFrame", section)
	content.Name = "Content"
	content.Size = UDim2.fromOffset(500, 335)  -- Changed from 635, 435
	content.Position = UDim2.fromOffset(8, 62)  -- Changed from 10, 80
	content.BackgroundTransparency = 1
	content.BorderSizePixel = 0
	content.ScrollBarThickness = 4  -- Changed from 5
	content.ScrollBarImageColor3 = COLORS.PRIMARY
	content.ScrollBarImageTransparency = 0.4
	content.CanvasSize = UDim2.fromOffset(500, 0)  -- Changed from 635, 0
	content.AutomaticCanvasSize = Enum.AutomaticSize.Y
	
	local layout = Instance.new("UIListLayout", content)
	layout.SortOrder = Enum.SortOrder.LayoutOrder
	layout.Padding = UDim.new(0, 10)  -- Changed from 12
	
	local padding = Instance.new("UIPadding", content)
	padding.PaddingTop = UDim.new(0, 6)  -- Changed from 8
	padding.PaddingBottom = UDim.new(0, 6)  -- Changed from 8
	
	return section, content
end

local espSection, espContent = createSection("ESP CONTROLS", "üëÅÔ∏è")
local worldSection, worldContent = createSection("WORLD", "üåç")
local stealSection, stealContent = createSection("INSTANT STEAL", "‚ö°")
local settingsSection, settingsContent = createSection("SETTINGS", "‚öôÔ∏è")

-- Create premium nav button
local currentNavButton = nil
local currentSection = nil

local function createNavButton(text, emoji, order, section)
	local btn = Instance.new("TextButton", navContainer)
	btn.Size = UDim2.fromOffset(165, 50)  -- Changed from 210, 62
	btn.Position = UDim2.fromOffset(0, (order - 1) * 58)  -- Changed from 72
	btn.BackgroundColor3 = COLORS.BG_CARD
	btn.BackgroundTransparency = 0.6
	btn.Text = ""
	btn.BorderSizePixel = 0
	btn.AutoButtonColor = false
	btn.ZIndex = 4
	
	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0, 13)  -- Changed from 16
	
	local stroke = Instance.new("UIStroke", btn)
	stroke.Color = COLORS.PRIMARY
	stroke.Thickness = 1.5
	stroke.Transparency = 0.75
	
	-- Hover glow effect
	local hoverGlow = Instance.new("Frame", btn)
	hoverGlow.Size = UDim2.fromScale(1, 1)
	hoverGlow.BackgroundColor3 = COLORS.PRIMARY_GLOW
	hoverGlow.BackgroundTransparency = 1
	hoverGlow.BorderSizePixel = 0
	hoverGlow.ZIndex = 4
	
	local hoverCorner = Instance.new("UICorner", hoverGlow)
	hoverCorner.CornerRadius = UDim.new(0, 13)  -- Changed from 16
	
	local iconLabel = Instance.new("TextLabel", btn)
	iconLabel.Size = UDim2.fromOffset(36, 36)  -- Changed from 45, 45
	iconLabel.Position = UDim2.fromOffset(10, 7)  -- Changed from 14, 8
	iconLabel.BackgroundTransparency = 1
	iconLabel.Text = emoji
	iconLabel.Font = Enum.Font.GothamBold
	iconLabel.TextSize = 22  -- Changed from 28
	iconLabel.TextColor3 = COLORS.TEXT_MUTED
	iconLabel.ZIndex = 5
	
	local textLabel = Instance.new("TextLabel", btn)
	textLabel.Size = UDim2.fromOffset(110, 50)  -- Changed from 140, 62
	textLabel.Position = UDim2.fromOffset(52, 0)  -- Changed from 64, 0
	textLabel.BackgroundTransparency = 1
	textLabel.Text = text
	textLabel.Font = Enum.Font.GothamBold
	textLabel.TextSize = 13  -- Changed from 15
	textLabel.TextColor3 = COLORS.TEXT_MUTED
	textLabel.TextXAlignment = Enum.TextXAlignment.Left
	textLabel.ZIndex = 5
	
	local indicator = Instance.new("Frame", btn)
	indicator.Size = UDim2.fromOffset(3, 0)  -- Changed from 4, 0
	indicator.Position = UDim2.fromOffset(0, 25)  -- Changed from 31
	indicator.AnchorPoint = Vector2.new(0, 0.5)
	indicator.BackgroundColor3 = COLORS.ACCENT
	indicator.BorderSizePixel = 0
	indicator.ZIndex = 6
	
	local indicatorCorner = Instance.new("UICorner", indicator)
	indicatorCorner.CornerRadius = UDim.new(0, 2)
	
	btn.MouseEnter:Connect(function()
		if btn ~= currentNavButton then
			TweenService:Create(btn, ANIM.SMOOTH, {BackgroundTransparency = 0.35}):Play()
			TweenService:Create(stroke, ANIM.SMOOTH, {Transparency = 0.4}):Play()
			TweenService:Create(hoverGlow, ANIM.SMOOTH, {BackgroundTransparency = 0.85}):Play()
			TweenService:Create(iconLabel, ANIM.BOUNCE, {TextColor3 = COLORS.PRIMARY_LIGHT, TextSize = 26}):Play()  -- Changed from 32
			TweenService:Create(textLabel, ANIM.SMOOTH, {TextColor3 = COLORS.TEXT}):Play()
			TweenService:Create(indicator, ANIM.ELASTIC, {Size = UDim2.fromOffset(3, 32)}):Play()  -- Changed from 4, 40
		end
	end)
	
	btn.MouseLeave:Connect(function()
		if btn ~= currentNavButton then
			TweenService:Create(btn, ANIM.SMOOTH, {BackgroundTransparency = 0.6}):Play()
			TweenService:Create(stroke, ANIM.SMOOTH, {Transparency = 0.75}):Play()
			TweenService:Create(hoverGlow, ANIM.SMOOTH, {BackgroundTransparency = 1}):Play()
			TweenService:Create(iconLabel, ANIM.BOUNCE, {TextColor3 = COLORS.TEXT_MUTED, TextSize = 22}):Play()  -- Changed from 28
			TweenService:Create(textLabel, ANIM.SMOOTH, {TextColor3 = COLORS.TEXT_MUTED}):Play()
			TweenService:Create(indicator, ANIM.SMOOTH, {Size = UDim2.fromOffset(3, 0)}):Play()  -- Changed from 4, 0
		end
	end)
	
	btn.MouseButton1Click:Connect(function()
		if currentNavButton == btn then return end
		
		-- Deactivate previous button
		if currentNavButton then
			local oldIcon = currentNavButton:FindFirstChild("TextLabel")
			local oldText = nil
			for _, child in pairs(currentNavButton:GetChildren()) do
				if child:IsA("TextLabel") and child ~= oldIcon then
					oldText = child
					break
				end
			end
			local oldIndicator = currentNavButton:FindFirstChild("Frame")
			local oldStroke = currentNavButton:FindFirstChild("UIStroke")
			local oldHoverGlow = nil
			for _, child in pairs(currentNavButton:GetChildren()) do
				if child:IsA("Frame") and child.Name ~= "Frame" then
					oldHoverGlow = child
					break
				end
			end
			
			TweenService:Create(currentNavButton, ANIM.SMOOTH, {BackgroundTransparency = 0.6}):Play()
			if oldStroke then
				TweenService:Create(oldStroke, ANIM.SMOOTH, {Transparency = 0.75, Color = COLORS.PRIMARY}):Play()
			end
			if oldHoverGlow then
				TweenService:Create(oldHoverGlow, ANIM.SMOOTH, {BackgroundTransparency = 1}):Play()
			end
			if oldIcon then
				TweenService:Create(oldIcon, ANIM.SMOOTH, {TextColor3 = COLORS.TEXT_MUTED, TextSize = 22}):Play()  -- Changed from 28
			end
			if oldText then
				TweenService:Create(oldText, ANIM.SMOOTH, {TextColor3 = COLORS.TEXT_MUTED}):Play()
			end
			if oldIndicator then
				TweenService:Create(oldIndicator, ANIM.SMOOTH, {Size = UDim2.fromOffset(3, 0)}):Play()  -- Changed from 4, 0
			end
		end
		
		-- Hide previous section
		if currentSection and currentSection ~= section then
			currentSection.Visible = false
		end
		
		-- Activate new button
		TweenService:Create(btn, ANIM.SMOOTH, {BackgroundTransparency = 0.15}):Play()
		TweenService:Create(stroke, ANIM.SMOOTH, {Transparency = 0.25, Color = COLORS.ACCENT}):Play()
		TweenService:Create(hoverGlow, ANIM.SMOOTH, {BackgroundTransparency = 0.7}):Play()
		TweenService:Create(iconLabel, ANIM.ELASTIC, {TextColor3 = COLORS.ACCENT_LIGHT, TextSize = 27}):Play()  -- Changed from 34
		TweenService:Create(textLabel, ANIM.SMOOTH, {TextColor3 = COLORS.TEXT}):Play()
		TweenService:Create(indicator, ANIM.ELASTIC, {Size = UDim2.fromOffset(4, 50), BackgroundColor3 = COLORS.ACCENT}):Play()  -- Changed from 5, 62
		
		section.Visible = true
		currentNavButton = btn
		currentSection = section
	end)
	
	return btn
end

local espNavBtn = createNavButton("ESP", "üëÅÔ∏è", 1, espSection)
local worldNavBtn = createNavButton("World", "üåç", 2, worldSection)
local stealNavBtn = createNavButton("Steal", "‚ö°", 3, stealSection)
local settingsNavBtn = createNavButton("Settings", "‚öôÔ∏è", 4, settingsSection)

-- Premium toggle with enhanced visuals
local function createToggle(text, description, parent)
	local container = Instance.new("Frame", parent)
	container.Size = UDim2.fromOffset(485, description and 75 or 55)  -- Changed from 615, 95/70
	container.BackgroundColor3 = COLORS.BG_CARD
	container.BackgroundTransparency = 0.4
	container.BorderSizePixel = 0
	
	local corner = Instance.new("UICorner", container)
	corner.CornerRadius = UDim.new(0, 13)  -- Changed from 16
	
	local stroke = Instance.new("UIStroke", container)
	stroke.Color = COLORS.PRIMARY
	stroke.Thickness = 1.5
	stroke.Transparency = 0.75
	
	-- Subtle top gradient
	local topGradient = Instance.new("Frame", container)
	topGradient.Size = UDim2.fromScale(1, 0.4)
	topGradient.BackgroundColor3 = COLORS.PRIMARY_GLOW
	topGradient.BackgroundTransparency = 0.92
	topGradient.BorderSizePixel = 0
	
	local topGradientCorner = Instance.new("UICorner", topGradient)
	topGradientCorner.CornerRadius = UDim.new(0, 13)  -- Changed from 16
	
	local topGradGrad = Instance.new("UIGradient", topGradient)
	topGradGrad.Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 0),
		NumberSequenceKeypoint.new(1, 1)
	})
	topGradGrad.Rotation = 90
	
	local label = Instance.new("TextLabel", container)
	label.Size = UDim2.fromOffset(370, 22)  -- Changed from 480, 24
	label.Position = UDim2.fromOffset(15, description and 14 or 17)  -- Changed from 20, 18/23
	label.BackgroundTransparency = 1
	label.Text = text
	label.Font = Enum.Font.GothamBold
	label.TextSize = 14  -- Changed from 16
	label.TextColor3 = COLORS.TEXT
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.ZIndex = 2
	
	if description then
		local desc = Instance.new("TextLabel", container)
		desc.Size = UDim2.fromOffset(370, 32)  -- Changed from 480, 40
		desc.Position = UDim2.fromOffset(15, 38)  -- Changed from 20, 48
		desc.BackgroundTransparency = 1
		desc.Text = description
		desc.Font = Enum.Font.Gotham
		desc.TextSize = 11  -- Changed from 13
		desc.TextColor3 = COLORS.TEXT_MUTED
		desc.TextXAlignment = Enum.TextXAlignment.Left
		desc.TextWrapped = true
		desc.ZIndex = 2
	end
	
	local toggleBg = Instance.new("Frame", container)
	toggleBg.Size = UDim2.fromOffset(54, 28)  -- Changed from 64, 34
	toggleBg.Position = UDim2.fromOffset(420, description and 24 or 14)  -- Changed from 535, 31/18
	toggleBg.BackgroundColor3 = COLORS.BG_GLASS
	toggleBg.BorderSizePixel = 0
	toggleBg.ZIndex = 2
	
	local toggleCorner = Instance.new("UICorner", toggleBg)
	toggleCorner.CornerRadius = UDim.new(1, 0)
	
	local toggleStroke = Instance.new("UIStroke", toggleBg)
	toggleStroke.Color = COLORS.TEXT_DARK
	toggleStroke.Thickness = 2
	toggleStroke.Transparency = 0.5
	
	local toggleCircle = Instance.new("Frame", toggleBg)
	toggleCircle.Size = UDim2.fromOffset(22, 22)  -- Changed from 28, 28
	toggleCircle.Position = UDim2.fromOffset(3, 3)
	toggleCircle.BackgroundColor3 = COLORS.TEXT_MUTED
	toggleCircle.BorderSizePixel = 0
	toggleCircle.ZIndex = 3
	
	local circleCorner = Instance.new("UICorner", toggleCircle)
	circleCorner.CornerRadius = UDim.new(1, 0)
	
	-- Add glow to circle when active
	local circleGlow = Instance.new("ImageLabel", toggleCircle)
	circleGlow.Size = UDim2.fromScale(1.8, 1.8)
	circleGlow.Position = UDim2.fromScale(0.5, 0.5)
	circleGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	circleGlow.BackgroundTransparency = 1
	circleGlow.Image = "rbxassetid://5028857084"
	circleGlow.ImageColor3 = COLORS.PRIMARY
	circleGlow.ImageTransparency = 1
	circleGlow.ScaleType = Enum.ScaleType.Slice
	circleGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	circleGlow.ZIndex = 2
	
	local toggleBtn = Instance.new("TextButton", container)
	toggleBtn.Size = container.Size
	toggleBtn.BackgroundTransparency = 1
	toggleBtn.Text = ""
	toggleBtn.AutoButtonColor = false
	toggleBtn.ZIndex = 4
	
	local isOn = false
	
	toggleBtn.MouseEnter:Connect(function()
		TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.25}):Play()
		TweenService:Create(stroke, ANIM.SMOOTH, {Transparency = 0.5}):Play()
		if not isOn then
			TweenService:Create(toggleStroke, ANIM.SMOOTH, {Thickness = 2.5}):Play()
		end
	end)
	
	toggleBtn.MouseLeave:Connect(function()
		if not isOn then
			TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.4}):Play()
			TweenService:Create(stroke, ANIM.SMOOTH, {Transparency = 0.75}):Play()
			TweenService:Create(toggleStroke, ANIM.SMOOTH, {Thickness = 2}):Play()
		end
	end)
	
	local function toggle()
		isOn = not isOn
		
		if isOn then
			TweenService:Create(toggleBg, ANIM.SMOOTH, {BackgroundColor3 = COLORS.PRIMARY}):Play()
			TweenService:Create(toggleStroke, ANIM.SMOOTH, {Color = COLORS.PRIMARY_LIGHT, Transparency = 0.2, Thickness = 2.5}):Play()
			TweenService:Create(toggleCircle, ANIM.ELASTIC, {Position = UDim2.fromOffset(29, 3), BackgroundColor3 = COLORS.TEXT}):Play()  -- Changed from 33, 3
			TweenService:Create(circleGlow, ANIM.SMOOTH, {ImageTransparency = 0.4}):Play()
			TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.25}):Play()
			TweenService:Create(stroke, ANIM.SMOOTH, {Color = COLORS.PRIMARY, Transparency = 0.4}):Play()
		else
			TweenService:Create(toggleBg, ANIM.SMOOTH, {BackgroundColor3 = COLORS.BG_GLASS}):Play()
			TweenService:Create(toggleStroke, ANIM.SMOOTH, {Color = COLORS.TEXT_DARK, Transparency = 0.5, Thickness = 2}):Play()
			TweenService:Create(toggleCircle, ANIM.ELASTIC, {Position = UDim2.fromOffset(3, 3), BackgroundColor3 = COLORS.TEXT_MUTED}):Play()
			TweenService:Create(circleGlow, ANIM.SMOOTH, {ImageTransparency = 1}):Play()
			TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.4}):Play()
			TweenService:Create(stroke, ANIM.SMOOTH, {Color = COLORS.PRIMARY, Transparency = 0.75}):Play()
		end
		
		return isOn
	end
	
	toggleBtn.MouseButton1Click:Connect(function()
		-- Haptic feedback animation
		TweenService:Create(toggleCircle, TweenInfo.new(0.1, Enum.EasingStyle.Quad), {Size = UDim2.fromOffset(20, 20)}):Play()  -- Changed from 24, 24
		task.wait(0.1)
		TweenService:Create(toggleCircle, TweenInfo.new(0.1, Enum.EasingStyle.Quad), {Size = UDim2.fromOffset(22, 22)}):Play()  -- Changed from 28, 28
	end)
	
	return toggleBtn, function() return isOn end, toggle
end

--======================
-- ESP LOGIC (preserved from original)
--======================
local playerESP = false
local playerESPObjects = {}

local function removePlayerESP(char)
	if not char then return end
	if char:FindFirstChild("DuckyPlayerESP") then
		char.DuckyPlayerESP:Destroy()
	end
	local head = char:FindFirstChild("Head")
	if head and head:FindFirstChild("DuckyPlayerBillboard") then
		head.DuckyPlayerBillboard:Destroy()
	end
end

local function addPlayerESP(char, plr)
	if not char or not char.Parent then return end
	removePlayerESP(char)
	
	local hrp = char:FindFirstChild("HumanoidRootPart")
	local head = char:FindFirstChild("Head")
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	
	if not hrp or not head or not humanoid then return end

	local h = Instance.new("Highlight")
	h.Name = "DuckyPlayerESP"
	h.Parent = char
	h.FillTransparency = 0.6
	h.OutlineTransparency = 0.1
	h.FillColor = COLORS.ACCENT
	h.OutlineColor = COLORS.PRIMARY
	h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
	
	local billboard = Instance.new("BillboardGui")
	billboard.Name = "DuckyPlayerBillboard"
	billboard.Parent = head
	billboard.Adornee = head
	billboard.Size = UDim2.fromOffset(140, 50)
	billboard.StudsOffset = Vector3.new(0, 3, 0)
	billboard.AlwaysOnTop = true
	billboard.MaxDistance = 1000
	billboard.ResetOnSpawn = false
	
	local container = Instance.new("Frame", billboard)
	container.Size = UDim2.fromScale(1, 1)
	container.BackgroundColor3 = COLORS.BG_GLASS
	container.BackgroundTransparency = 0.25
	container.BorderSizePixel = 0
	Instance.new("UICorner", container).CornerRadius = UDim.new(0, 10)
	
	local stroke = Instance.new("UIStroke", container)
	stroke.Color = COLORS.PRIMARY
	stroke.Thickness = 2
	stroke.Transparency = 0.3
	
	local username = Instance.new("TextLabel", container)
	username.Size = UDim2.new(1, -10, 0, 22)
	username.Position = UDim2.fromOffset(5, 5)
	username.BackgroundTransparency = 1
	username.Text = plr.DisplayName
	username.Font = Enum.Font.GothamBold
	username.TextSize = 13
	username.TextColor3 = COLORS.TEXT
	username.TextStrokeTransparency = 0.3
	
	local distanceLabel = Instance.new("TextLabel", container)
	distanceLabel.Size = UDim2.new(1, -10, 0, 20)
	distanceLabel.Position = UDim2.fromOffset(5, 27)
	distanceLabel.BackgroundTransparency = 1
	distanceLabel.Text = "0m"
	distanceLabel.Font = Enum.Font.Gotham
	distanceLabel.TextSize = 12
	distanceLabel.TextColor3 = COLORS.SUCCESS
	distanceLabel.TextStrokeTransparency = 0.4
	
	local updateConnection
	updateConnection = RunService.Heartbeat:Connect(function()
		if not char or not char.Parent or not humanoid or humanoid.Health <= 0 or not player.Character then
			if updateConnection then updateConnection:Disconnect() end
			return
		end
		
		local myHRP = player.Character:FindFirstChild("HumanoidRootPart")
		if myHRP and hrp then
			local distance = (myHRP.Position - hrp.Position).Magnitude
			distanceLabel.Text = string.format("üìç %.0fm", distance)
		end
	end)
	
	table.insert(playerESPObjects, updateConnection)
end

local function refreshPlayerESP()
	for _, connection in pairs(playerESPObjects) do
		if connection and typeof(connection) == "RBXScriptConnection" then
			connection:Disconnect()
		end
	end
	playerESPObjects = {}
	
	for _, plr in pairs(Players:GetPlayers()) do
		if plr ~= player and plr.Character then
			removePlayerESP(plr.Character)
		end
	end
	
	if playerESP then
		for _, plr in pairs(Players:GetPlayers()) do
			if plr ~= player and plr.Character then
				addPlayerESP(plr.Character, plr)
			end
		end
	end
end

Players.PlayerAdded:Connect(function(plr)
	plr.CharacterAdded:Connect(function(char)
		task.wait(0.5)
		if playerESP and plr ~= player then 
			addPlayerESP(char, plr) 
		end
	end)
end)

for _, plr in pairs(Players:GetPlayers()) do
	if plr ~= player then
		plr.CharacterAdded:Connect(function(char)
			task.wait(0.5)
			if playerESP then 
				addPlayerESP(char, plr) 
			end
		end)
	end
end

Players.PlayerRemoving:Connect(function(plr)
	if plr.Character then
		removePlayerESP(plr.Character)
	end
end)

-- BRAINROT ESP LOGIC (preserved)
local brainrotESP = false
local espObjects = {}

local function isSecretBrainrot(name)
	return SECRET_BRAINROTS[name] ~= nil
end

local function getBaseValue(name)
	return SECRET_BRAINROTS[name] or 0
end

local function clearBrainrotESP()
	for _, obj in pairs(espObjects) do
		pcall(function() obj:Destroy() end)
	end
	espObjects = {}
end

local function findModifiersInBrainrot(brainrotModel)
	local foundTraits = {}
	local foundMutations = {}
	local checkedItems = {}
	
	local function checkNameMatch(name)
		local nameLower = string.lower(name)
		
		for traitName, mult in pairs(TRAITS) do
			if string.lower(traitName) == nameLower and not checkedItems[traitName] then
				return traitName, mult, "Trait"
			end
		end
		
		for mutationName, mult in pairs(MUTATIONS) do
			if string.lower(mutationName) == nameLower and not checkedItems[mutationName] then
				return mutationName, mult, "Mutation"
			end
		end
		
		return nil, nil, nil
	end
	
	local configFolderNames = {"Traits", "Mutations", "Modifiers", "Properties", "Stats", "Configuration", "Config"}
	
	for _, folderName in ipairs(configFolderNames) do
		local configFolder = brainrotModel:FindFirstChild(folderName)
		if configFolder then
			for _, child in pairs(configFolder:GetChildren()) do
				local matchName, matchMult, matchType = checkNameMatch(child.Name)
				
				if matchName then
					local isEnabled = false
					
					if child:IsA("BoolValue") then
						isEnabled = (child.Value == true)
					elseif child:IsA("StringValue") then
						local val = tostring(child.Value)
						isEnabled = (val ~= "" and val ~= "false" and val ~= "0")
					elseif child:IsA("IntValue") or child:IsA("NumberValue") then
						isEnabled = (child.Value > 0)
					elseif child:IsA("Configuration") or child:IsA("Folder") then
						isEnabled = true
					end
					
					if isEnabled then
						if matchType == "Trait" then
							foundTraits[matchName] = matchMult
							checkedItems[matchName] = true
						elseif matchType == "Mutation" then
							foundMutations[matchName] = matchMult
							checkedItems[matchName] = true
						end
					end
				end
			end
		end
	end
	
	return foundTraits, foundMutations
end

local function findBrainrotsByName()
	local found = {}
	
	for _, obj in pairs(workspace:GetDescendants()) do
		if obj:IsA("Model") and isSecretBrainrot(obj.Name) then
			local primaryPart = obj.PrimaryPart or obj:FindFirstChildWhichIsA("BasePart")
			
			if primaryPart then
				local baseValue = getBaseValue(obj.Name)
				local traitsFound, mutationsFound = findModifiersInBrainrot(obj)
				
				local totalMultiplier = 0
				local foundModifiers = {}
				local traitCount = 0
				local mutationCount = 0
				
				for mutationName, multiplier in pairs(mutationsFound) do
					if mutationCount == 0 then
						totalMultiplier = totalMultiplier + multiplier
					else
						totalMultiplier = totalMultiplier + (multiplier - 1)
					end
					mutationCount = mutationCount + 1
					table.insert(foundModifiers, {name = mutationName, mult = multiplier, type = "Mutation"})
				end
				
				for traitName, multiplier in pairs(traitsFound) do
					if traitCount == 0 and mutationCount == 0 then
						totalMultiplier = totalMultiplier + multiplier
					else
						totalMultiplier = totalMultiplier + (multiplier - 1)
					end
					traitCount = traitCount + 1
					table.insert(foundModifiers, {name = traitName, mult = multiplier, type = "Trait"})
				end
				
				if totalMultiplier == 0 then
					totalMultiplier = 1
				end
				
				local finalValue = baseValue * totalMultiplier
				
				table.insert(found, {
					model = obj,
					name = obj.Name,
					part = primaryPart,
					value = finalValue,
					baseValue = baseValue,
					multiplier = totalMultiplier,
					modifiers = foundModifiers
				})
			end
		end
	end
	
	return found
end

local function createBrainrotESP()
	if not brainrotESP then return end
	
	clearBrainrotESP()
	
	local brainrots = findBrainrotsByName()
	
	if #brainrots == 0 then
		warn("‚ùå No secret brainrots found")
		return
	end
	
	table.sort(brainrots, function(a, b)
		if a.value ~= b.value then
			return a.value > b.value
		end
		if #a.modifiers ~= #b.modifiers then
			return #a.modifiers > #b.modifiers
		end
		return a.baseValue > b.baseValue
	end)
	
	local bestBrainrot = brainrots[1]
	local data = bestBrainrot
	
	print(string.format("üèÜ BEST: %s (%s/s)", data.name, formatMoney(data.value)))
	
	local model = data.model
	local part = data.part
	
	local highlight = Instance.new("Highlight")
	highlight.Parent = model
	highlight.FillTransparency = 0.5
	highlight.OutlineTransparency = 0.1
	highlight.FillColor = COLORS.ACCENT
	highlight.OutlineColor = COLORS.PRIMARY
	highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
	table.insert(espObjects, highlight)
	
	local billboard = Instance.new("BillboardGui", part)
	billboard.Size = UDim2.fromOffset(180, 100)
	billboard.StudsOffset = Vector3.new(0, 6, 0)
	billboard.AlwaysOnTop = true
	billboard.MaxDistance = 3000
	
	local bg = Instance.new("Frame", billboard)
	bg.Size = UDim2.fromScale(1, 1)
	bg.BackgroundColor3 = COLORS.BG_GLASS
	bg.BackgroundTransparency = 0.25
	bg.BorderSizePixel = 0
	Instance.new("UICorner", bg).CornerRadius = UDim.new(0, 12)
	
	local stroke = Instance.new("UIStroke", bg)
	stroke.Color = COLORS.PRIMARY
	stroke.Thickness = 2
	stroke.Transparency = 0.25
	
	local crownLabel = Instance.new("TextLabel", bg)
	crownLabel.Size = UDim2.fromOffset(24, 24)
	crownLabel.Position = UDim2.fromOffset(6, 5)
	crownLabel.BackgroundTransparency = 1
	crownLabel.Text = "üëë"
	crownLabel.Font = Enum.Font.FredokaOne
	crownLabel.TextSize = 20
	
	local secretLabel = Instance.new("TextLabel", bg)
	secretLabel.Size = UDim2.new(1, -36, 0, 20)
	secretLabel.Position = UDim2.fromOffset(34, 5)
	secretLabel.BackgroundTransparency = 1
	secretLabel.Text = "BEST SECRET"
	secretLabel.Font = Enum.Font.GothamBold
	secretLabel.TextSize = 12
	secretLabel.TextColor3 = COLORS.ACCENT
	secretLabel.TextXAlignment = Enum.TextXAlignment.Left
	secretLabel.TextStrokeTransparency = 0.4
	
	local nameLabel = Instance.new("TextLabel", bg)
	nameLabel.Size = UDim2.new(1, -12, 0, 20)
	nameLabel.Position = UDim2.fromOffset(6, 28)
	nameLabel.BackgroundTransparency = 1
	nameLabel.Text = data.name
	nameLabel.Font = Enum.Font.GothamBold
	nameLabel.TextSize = 12
	nameLabel.TextColor3 = COLORS.TEXT
	nameLabel.TextWrapped = true
	nameLabel.TextXAlignment = Enum.TextXAlignment.Left
	nameLabel.TextStrokeTransparency = 0.5
	
	local valueLabel = Instance.new("TextLabel", bg)
	valueLabel.Size = UDim2.fromOffset(130, 20)
	valueLabel.Position = UDim2.fromOffset(6, 50)
	valueLabel.BackgroundTransparency = 1
	valueLabel.Text = string.format("üí∞ %s/s", formatMoney(data.value))
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 14
	valueLabel.TextColor3 = COLORS.SUCCESS
	valueLabel.TextXAlignment = Enum.TextXAlignment.Left
	valueLabel.TextStrokeTransparency = 0.4
	
	if data.multiplier > 1 then
		local multBadge = Instance.new("Frame", bg)
		multBadge.Size = UDim2.fromOffset(48, 18)
		multBadge.Position = UDim2.fromOffset(126, 51)
		multBadge.BackgroundColor3 = COLORS.DANGER
		multBadge.BackgroundTransparency = 0.05
		multBadge.BorderSizePixel = 0
		Instance.new("UICorner", multBadge).CornerRadius = UDim.new(0, 9)
		
		local multLabel = Instance.new("TextLabel", multBadge)
		multLabel.Size = UDim2.fromScale(1, 1)
		multLabel.BackgroundTransparency = 1
		multLabel.Text = string.format("√ó%.1f", data.multiplier)
		multLabel.Font = Enum.Font.GothamBold
		multLabel.TextSize = 11
		multLabel.TextColor3 = COLORS.TEXT
	end
	
	if #data.modifiers > 0 then
		local modText = ""
		local traitStrs = {}
		local mutationStrs = {}
		
		for _, mod in ipairs(data.modifiers) do
			if mod.type == "Trait" then
				local emoji = TRAIT_EMOJIS[mod.name] or "‚ú®"
				table.insert(traitStrs, string.format("%s %s", emoji, mod.name))
			elseif mod.type == "Mutation" then
				local emoji = MUTATION_EMOJIS[mod.name] or "üß¨"
				table.insert(mutationStrs, string.format("%s %s", emoji, mod.name))
			end
		end
		
		if #mutationStrs > 0 then
			modText = table.concat(mutationStrs, " ‚Ä¢ ")
		end
		
		if #traitStrs > 0 then
			if modText ~= "" then modText = modText .. "\n" end
			modText = modText .. table.concat(traitStrs, " ‚Ä¢ ")
		end
		
		local modLabel = Instance.new("TextLabel", bg)
		modLabel.Size = UDim2.new(1, -12, 0, 26)
		modLabel.Position = UDim2.fromOffset(6, 72)
		modLabel.BackgroundTransparency = 1
		modLabel.Text = modText
		modLabel.Font = Enum.Font.Gotham
		modLabel.TextSize = 10
		modLabel.TextColor3 = Color3.fromRGB(180, 200, 255)
		modLabel.TextWrapped = true
		modLabel.TextXAlignment = Enum.TextXAlignment.Left
		modLabel.TextYAlignment = Enum.TextYAlignment.Top
	end
	
	table.insert(espObjects, billboard)
end

-- LOCK ESP (preserved)
local lockESP = false
local lockESPObjects = {}

local function parseTimeText(text)
	if not text or text == "" then return 0 end
	local lowerText = string.lower(text)
	if string.find(lowerText, "unlock") or string.find(lowerText, "ready") then return 0 end
	local totalSeconds = 0
	local hours = string.match(text, "(%d+)h")
	if hours then totalSeconds = totalSeconds + (tonumber(hours) * 3600) end
	local mins = string.match(text, "(%d+)m")
	if mins then totalSeconds = totalSeconds + (tonumber(mins) * 60) end
	local secs = string.match(text, "(%d+)s")
	if secs then totalSeconds = totalSeconds + tonumber(secs) end
	if totalSeconds == 0 then
		local num = tonumber(text)
		if num then totalSeconds = num end
	end
	return totalSeconds
end

local function clearLockESP()
	for _, obj in pairs(lockESPObjects) do
		pcall(function()
			if typeof(obj) == "RBXScriptConnection" then
				obj:Disconnect()
			else
				obj:Destroy()
			end
		end)
	end
	lockESPObjects = {}
end

local function findPlayerBases()
	local bases = {}
	local currentPlayers = {}
	for _, plr in pairs(Players:GetPlayers()) do
		currentPlayers[plr.Name] = true
		currentPlayers[plr.DisplayName] = true
	end
	
	local plotsFolder = workspace:FindFirstChild("Plots")
	if plotsFolder then
		for _, plot in pairs(plotsFolder:GetChildren()) do
			if plot:IsA("Model") then
				local owner = "Unknown"
				local remainingTimeLabel = nil
				local basePart = nil
				
				local purchases = plot:FindFirstChild("Purchases")
				if purchases then
					local plotBlock = purchases:FindFirstChild("PlotBlock")
					if plotBlock then
						local main = plotBlock:FindFirstChild("Main")
						if main then
							local billboardGui = main:FindFirstChild("BillboardGui")
							if billboardGui then
								local remainingTime = billboardGui:FindFirstChild("RemainingTime")
								if remainingTime and remainingTime:IsA("TextLabel") then
									remainingTimeLabel = remainingTime
								end
							end
						end
						
						local ownerValue = plotBlock:FindFirstChild("Owner", true) or plot:FindFirstChild("Owner", true)
						
						if ownerValue then
							if ownerValue:IsA("StringValue") then
								owner = ownerValue.Value
							elseif ownerValue:IsA("ObjectValue") and ownerValue.Value then
								if ownerValue.Value:IsA("Player") then
									owner = ownerValue.Value.Name
								end
							end
						end
					end
				end
				
				basePart = plot.PrimaryPart or plot:FindFirstChildWhichIsA("BasePart", true)
				
				if remainingTimeLabel and basePart and (currentPlayers[owner] or owner == "Unknown") then
					table.insert(bases, {
						model = plot,
						part = basePart,
						timerLabel = remainingTimeLabel,
						owner = owner
					})
				end
			end
		end
	end
	
	return bases
end

local function createLockESP()
	if not lockESP then return end
	clearLockESP()
	
	local bases = findPlayerBases()
	
	if #bases == 0 then
		warn("‚ö†Ô∏è No player bases found")
		return
	end
	
	for _, baseData in ipairs(bases) do
		local part = baseData.part
		local timerLabel = baseData.timerLabel
		
		local highlight = Instance.new("Highlight")
		highlight.Parent = baseData.model
		highlight.FillTransparency = 0.5
		highlight.OutlineTransparency = 0.1
		highlight.FillColor = COLORS.WARNING
		highlight.OutlineColor = Color3.fromRGB(255, 150, 0)
		highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
		table.insert(lockESPObjects, highlight)
		
		local billboard = Instance.new("BillboardGui", part)
		billboard.Size = UDim2.fromOffset(150, 75)
		billboard.StudsOffset = Vector3.new(0, 6, 0)
		billboard.AlwaysOnTop = true
		billboard.MaxDistance = 2000
		table.insert(lockESPObjects, billboard)
		
		local bg = Instance.new("Frame", billboard)
		bg.Size = UDim2.fromScale(1, 1)
		bg.BackgroundColor3 = COLORS.BG_GLASS
		bg.BackgroundTransparency = 0.25
		bg.BorderSizePixel = 0
		Instance.new("UICorner", bg).CornerRadius = UDim.new(0, 12)
		
		local stroke = Instance.new("UIStroke", bg)
		stroke.Color = COLORS.WARNING
		stroke.Thickness = 2
		stroke.Transparency = 0.25
		
		local lockIcon = Instance.new("TextLabel", bg)
		lockIcon.Size = UDim2.fromOffset(22, 22)
		lockIcon.Position = UDim2.fromOffset(5, 5)
		lockIcon.BackgroundTransparency = 1
		lockIcon.Text = "üîí"
		lockIcon.Font = Enum.Font.FredokaOne
		lockIcon.TextSize = 18
		lockIcon.TextScaled = false
		
		local titleLabel = Instance.new("TextLabel", bg)
		titleLabel.Size = UDim2.new(1, -30, 0, 16)
		titleLabel.Position = UDim2.fromOffset(29, 5)
		titleLabel.BackgroundTransparency = 1
		titleLabel.Text = "BASE LOCK"
		titleLabel.Font = Enum.Font.GothamBold
		titleLabel.TextSize = 11
		titleLabel.TextColor3 = COLORS.WARNING
		titleLabel.TextXAlignment = Enum.TextXAlignment.Left
		titleLabel.TextStrokeTransparency = 0.4
		
		local ownerLabel = Instance.new("TextLabel", bg)
		ownerLabel.Size = UDim2.new(1, -10, 0, 14)
		ownerLabel.Position = UDim2.fromOffset(5, 24)
		ownerLabel.BackgroundTransparency = 1
		ownerLabel.Text = string.format("üë§ %s", baseData.owner)
		ownerLabel.Font = Enum.Font.Gotham
		ownerLabel.TextSize = 10
		ownerLabel.TextColor3 = COLORS.TEXT_MUTED
		ownerLabel.TextXAlignment = Enum.TextXAlignment.Left
		ownerLabel.TextStrokeTransparency = 0.5
		ownerLabel.TextWrapped = true
		
		local timerDisplayLabel = Instance.new("TextLabel", bg)
		timerDisplayLabel.Size = UDim2.new(1, -10, 0, 18)
		timerDisplayLabel.Position = UDim2.fromOffset(5, 40)
		timerDisplayLabel.BackgroundTransparency = 1
		timerDisplayLabel.Text = "‚è∞ Calculating..."
		timerDisplayLabel.Font = Enum.Font.GothamBold
		timerDisplayLabel.TextSize = 13
		timerDisplayLabel.TextColor3 = COLORS.TEXT
		timerDisplayLabel.TextXAlignment = Enum.TextXAlignment.Left
		timerDisplayLabel.TextStrokeTransparency = 0.4
		
		local statusLabel = Instance.new("TextLabel", bg)
		statusLabel.Size = UDim2.new(1, -10, 0, 13)
		statusLabel.Position = UDim2.fromOffset(5, 60)
		statusLabel.BackgroundTransparency = 1
		statusLabel.Text = "üîí Locked"
		statusLabel.Font = Enum.Font.Gotham
		statusLabel.TextSize = 10
		statusLabel.TextColor3 = COLORS.DANGER
		statusLabel.TextXAlignment = Enum.TextXAlignment.Left
		statusLabel.TextStrokeTransparency = 0.5
		
		local updateConnection = RunService.Heartbeat:Connect(function()
			if not timerLabel or not timerLabel.Parent then
				if updateConnection then updateConnection:Disconnect() end
				return
			end
			
			local timeText = timerLabel.Text
			local timeLeft = parseTimeText(timeText)
			
			if timeLeft <= 0 then
				timerDisplayLabel.Text = "‚è∞ UNLOCKED"
				timerDisplayLabel.TextColor3 = COLORS.SUCCESS
				statusLabel.Text = "üîì Ready to steal!"
				statusLabel.TextColor3 = COLORS.SUCCESS
				lockIcon.Text = "üîì"
				titleLabel.Text = "UNLOCKED"
				titleLabel.TextColor3 = COLORS.SUCCESS
				
				if highlight then
					highlight.FillColor = COLORS.SUCCESS
					highlight.OutlineColor = Color3.fromRGB(50, 255, 50)
				end
				stroke.Color = COLORS.SUCCESS
			else
				timerDisplayLabel.Text = string.format("‚è∞ %s", timeText)
				timerDisplayLabel.TextColor3 = COLORS.TEXT
				
				if timeLeft < 10 then
					statusLabel.Text = "‚ö° Almost ready!"
					statusLabel.TextColor3 = COLORS.SUCCESS
				elseif timeLeft < 30 then
					statusLabel.Text = "‚è≥ Soon..."
					statusLabel.TextColor3 = COLORS.WARNING
				else
					statusLabel.Text = "üîí Locked"
					statusLabel.TextColor3 = COLORS.DANGER
				end
			end
		end)
		
		table.insert(lockESPObjects, updateConnection)
	end
end

-- ESP Toggles
local playerToggle, getPlayerState, togglePlayer = createToggle(
	"Player ESP",
	"Highlights all players with distance and username labels",
	espContent
)

local brainrotToggle, getBrainrotState, toggleBrainrot = createToggle(
	"Brainrot ESP",
	"Automatically finds the best secret brainrot with value calculation",
	espContent
)

local lockToggle, getLockState, toggleLock = createToggle(
	"Lock ESP",
	"Shows base lock timers and countdown until unlock",
	espContent
)

playerToggle.MouseButton1Click:Connect(function()
	local state = togglePlayer()
	playerESP = state
	refreshPlayerESP()
	print("ü¶Ü Player ESP:", state and "ON" or "OFF")
end)

brainrotToggle.MouseButton1Click:Connect(function()
	local state = toggleBrainrot()
	brainrotESP = state
	print("ü¶Ü Brainrot ESP:", state and "ON" or "OFF")
	
	if state then
		createBrainrotESP()
	else
		clearBrainrotESP()
	end
end)

lockToggle.MouseButton1Click:Connect(function()
	local state = toggleLock()
	lockESP = state
	print("ü¶Ü Lock ESP:", state and "ON" or "OFF")
	
	if state then
		createLockESP()
	else
		clearLockESP()
	end
end)

-- Auto-refresh ESP
spawn(function()
	while gui.Parent do
		task.wait(15)
		if brainrotESP then createBrainrotESP() end
		if lockESP then createLockESP() end
	end
end)

--======================
-- WORLD SECTION FEATURES
--======================

-- Helper: Create premium action card with enhanced styling
local function createActionCard(text, description, icon, parent, callback)
	local container = Instance.new("Frame", parent)
	container.Size = UDim2.fromOffset(485, 75)  -- Changed from 615, 95
	container.BackgroundColor3 = COLORS.BG_CARD
	container.BackgroundTransparency = 0.4
	container.BorderSizePixel = 0
	
	local corner = Instance.new("UICorner", container)
	corner.CornerRadius = UDim.new(0, 13)  -- Changed from 16
	
	local stroke = Instance.new("UIStroke", container)
	stroke.Color = COLORS.PRIMARY
	stroke.Thickness = 1.5
	stroke.Transparency = 0.75
	
	-- Top gradient overlay
	local topGradient = Instance.new("Frame", container)
	topGradient.Size = UDim2.fromScale(1, 0.35)
	topGradient.BackgroundColor3 = COLORS.PRIMARY_GLOW
	topGradient.BackgroundTransparency = 0.92
	topGradient.BorderSizePixel = 0
	
	local topGradCorner = Instance.new("UICorner", topGradient)
	topGradCorner.CornerRadius = UDim.new(0, 13)  -- Changed from 16
	
	local topGradGrad = Instance.new("UIGradient", topGradient)
	topGradGrad.Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 0),
		NumberSequenceKeypoint.new(1, 1)
	})
	topGradGrad.Rotation = 90
	
	-- Icon background with glow
	local iconBg = Instance.new("Frame", container)
	iconBg.Size = UDim2.fromOffset(48, 48)  -- Changed from 60, 60
	iconBg.Position = UDim2.fromOffset(14, 14)  -- Changed from 18, 18
	iconBg.BackgroundColor3 = COLORS.PRIMARY
	iconBg.BackgroundTransparency = 0.8
	iconBg.BorderSizePixel = 0
	iconBg.ZIndex = 2
	
	local iconCorner = Instance.new("UICorner", iconBg)
	iconCorner.CornerRadius = UDim.new(0, 11)  -- Changed from 14
	
	local iconStroke = Instance.new("UIStroke", iconBg)
	iconStroke.Color = COLORS.ACCENT
	iconStroke.Thickness = 2
	iconStroke.Transparency = 0.5
	
	local iconGlow = Instance.new("ImageLabel", iconBg)
	iconGlow.Size = UDim2.fromScale(1.4, 1.4)
	iconGlow.Position = UDim2.fromScale(0.5, 0.5)
	iconGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	iconGlow.BackgroundTransparency = 1
	iconGlow.Image = "rbxassetid://5028857084"
	iconGlow.ImageColor3 = COLORS.ACCENT
	iconGlow.ImageTransparency = 0.7
	iconGlow.ScaleType = Enum.ScaleType.Slice
	iconGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	iconGlow.ZIndex = 1
	
	local iconLabel = Instance.new("TextLabel", iconBg)
	iconLabel.Size = UDim2.fromScale(1, 1)
	iconLabel.BackgroundTransparency = 1
	iconLabel.Text = icon
	iconLabel.Font = Enum.Font.GothamBold
	iconLabel.TextSize = 28  -- Changed from 36
	iconLabel.TextColor3 = COLORS.ACCENT
	iconLabel.ZIndex = 3
	
	local label = Instance.new("TextLabel", container)
	label.Size = UDim2.fromOffset(330, 20)  -- Changed from 430, 24
	label.Position = UDim2.fromOffset(70, 16)  -- Changed from 88, 20
	label.BackgroundTransparency = 1
	label.Text = text
	label.Font = Enum.Font.GothamBold
	label.TextSize = 14  -- Changed from 16
	label.TextColor3 = COLORS.TEXT
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.ZIndex = 2
	
	local desc = Instance.new("TextLabel", container)
	desc.Size = UDim2.fromOffset(330, 32)  -- Changed from 430, 40
	desc.Position = UDim2.fromOffset(70, 40)  -- Changed from 88, 50
	desc.BackgroundTransparency = 1
	desc.Text = description
	desc.Font = Enum.Font.Gotham
	desc.TextSize = 11  -- Changed from 13
	desc.TextColor3 = COLORS.TEXT_MUTED
	desc.TextXAlignment = Enum.TextXAlignment.Left
	desc.TextWrapped = true
	desc.ZIndex = 2
	
	-- Premium action button
	local actionBtn = Instance.new("TextButton", container)
	actionBtn.Size = UDim2.fromOffset(62, 32)  -- Changed from 75, 38
	actionBtn.Position = UDim2.fromOffset(412, 22)  -- Changed from 524, 29
	actionBtn.BackgroundColor3 = COLORS.PRIMARY
	actionBtn.BackgroundTransparency = 0.15
	actionBtn.Text = "‚ñ∂"
	actionBtn.Font = Enum.Font.GothamBold
	actionBtn.TextSize = 18  -- Changed from 22
	actionBtn.TextColor3 = COLORS.TEXT
	actionBtn.BorderSizePixel = 0
	actionBtn.AutoButtonColor = false
	actionBtn.ZIndex = 2
	
	local btnCorner = Instance.new("UICorner", actionBtn)
	btnCorner.CornerRadius = UDim.new(0, 10)  -- Changed from 12
	
	local btnStroke = Instance.new("UIStroke", actionBtn)
	btnStroke.Color = COLORS.ACCENT
	btnStroke.Thickness = 2
	btnStroke.Transparency = 0.3
	
	-- Button glow
	local btnGlow = Instance.new("ImageLabel", actionBtn)
	btnGlow.Size = UDim2.fromScale(1.3, 1.3)
	btnGlow.Position = UDim2.fromScale(0.5, 0.5)
	btnGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	btnGlow.BackgroundTransparency = 1
	btnGlow.Image = "rbxassetid://5028857084"
	btnGlow.ImageColor3 = COLORS.ACCENT
	btnGlow.ImageTransparency = 1
	btnGlow.ScaleType = Enum.ScaleType.Slice
	btnGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	btnGlow.ZIndex = 1
	
	actionBtn.MouseEnter:Connect(function()
		TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.25}):Play()
		TweenService:Create(stroke, ANIM.SMOOTH, {Transparency = 0.5}):Play()
		TweenService:Create(actionBtn, ANIM.SMOOTH, {BackgroundTransparency = 0, Size = UDim2.fromOffset(66, 36)}):Play()  -- Changed from 80, 42
		TweenService:Create(btnStroke, ANIM.SMOOTH, {Thickness = 2.5, Transparency = 0.1}):Play()
		TweenService:Create(btnGlow, ANIM.SMOOTH, {ImageTransparency = 0.5}):Play()
		TweenService:Create(iconGlow, ANIM.SMOOTH, {ImageTransparency = 0.4}):Play()
	end)
	
	actionBtn.MouseLeave:Connect(function()
		TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.4}):Play()
		TweenService:Create(stroke, ANIM.SMOOTH, {Transparency = 0.75}):Play()
		TweenService:Create(actionBtn, ANIM.SMOOTH, {BackgroundTransparency = 0.15, Size = UDim2.fromOffset(62, 32)}):Play()  -- Changed from 75, 38
		TweenService:Create(btnStroke, ANIM.SMOOTH, {Thickness = 2, Transparency = 0.3}):Play()
		TweenService:Create(btnGlow, ANIM.SMOOTH, {ImageTransparency = 1}):Play()
		TweenService:Create(iconGlow, ANIM.SMOOTH, {ImageTransparency = 0.7}):Play()
	end)
	
	actionBtn.MouseButton1Click:Connect(function()
		if callback then callback(actionBtn) end
	end)
	
	return container, actionBtn
end

-- ADMIN COMMAND SPAMMER
local isAdminSpammerOpen = false
local adminSpammerMenu = nil

local function sendChatMessage(message)
	local TextChatService = game:GetService("TextChatService")
	
	pcall(function()
		local textChannel = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral", 5)
		if textChannel then
			textChannel:SendAsync(message)
		end
	end)
	
	pcall(function()
		local ChatService = game:GetService("Chat")
		if player and player.Character then
			ChatService:Chat(player.Character, message)
		end
	end)
	
	pcall(function()
		local sayMessageRequest = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
			and ReplicatedStorage.DefaultChatSystemChatEvents:FindFirstChild("SayMessageRequest")
		if sayMessageRequest then
			sayMessageRequest:FireServer(message, "All")
		end
	end)
end

local function spamAdminCommands(targetPlayer)
	local commands = {"rocket", "ragdoll", "balloon", "inverse", "nightvision", "jail", "tiny", "jumpscare", "morph"}
	
	print("üöÄ Starting spam on: " .. targetPlayer)
	
	for _, cmd in pairs(commands) do
		pcall(function()
			local chatCommand = ";" .. cmd .. " " .. string.lower(targetPlayer)
			sendChatMessage(chatCommand)
			print("‚úÖ Sent: " .. chatCommand)
		end)
		task.wait(0.2)
	end
	
	print("‚úÖ Finished spam on: " .. targetPlayer)
end

local function createAdminSpammerMenu()
	if adminSpammerMenu then adminSpammerMenu:Destroy() end
	
	adminSpammerMenu = Instance.new("Frame", gui)
	adminSpammerMenu.Size = UDim2.fromOffset(0, 650)
	adminSpammerMenu.Position = UDim2.new(1, 50, 0.5, -325)
	adminSpammerMenu.BackgroundColor3 = COLORS.BG_GLASS
	adminSpammerMenu.BackgroundTransparency = 0.12
	adminSpammerMenu.BorderSizePixel = 0
	adminSpammerMenu.ClipsDescendants = true
	adminSpammerMenu.Active = true
	adminSpammerMenu.ZIndex = 100
	
	local menuCorner = Instance.new("UICorner", adminSpammerMenu)
	menuCorner.CornerRadius = UDim.new(0, 24)
	
	local menuStroke = Instance.new("UIStroke", adminSpammerMenu)
	menuStroke.Color = COLORS.ACCENT
	menuStroke.Thickness = 2
	menuStroke.Transparency = 0.25
	
	-- Menu glow
	local menuGlow = Instance.new("ImageLabel", adminSpammerMenu)
	menuGlow.Size = UDim2.fromScale(1.02, 1.02)
	menuGlow.Position = UDim2.fromScale(0.5, 0.5)
	menuGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	menuGlow.BackgroundTransparency = 1
	menuGlow.Image = "rbxassetid://5028857084"
	menuGlow.ImageColor3 = COLORS.ACCENT
	menuGlow.ImageTransparency = 0.5
	menuGlow.ScaleType = Enum.ScaleType.Slice
	menuGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	menuGlow.ZIndex = 99
	
	-- Draggable
	local dragging, dragStart, startPos
	
	adminSpammerMenu.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = adminSpammerMenu.Position
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = input.Position - dragStart
			adminSpammerMenu.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)
	
	-- Header
	local header = Instance.new("Frame", adminSpammerMenu)
	header.Size = UDim2.fromOffset(360, 90)
	header.BackgroundColor3 = COLORS.BG_CARD
	header.BackgroundTransparency = 0.3
	header.BorderSizePixel = 0
	header.ZIndex = 102
	
	local headerCorner = Instance.new("UICorner", header)
	headerCorner.CornerRadius = UDim.new(0, 24)
	
	-- Header gradient
	local headerGrad = Instance.new("Frame", header)
	headerGrad.Size = UDim2.fromScale(1, 0.5)
	headerGrad.BackgroundColor3 = COLORS.ACCENT
	headerGrad.BackgroundTransparency = 0.9
	headerGrad.BorderSizePixel = 0
	
	local headerGradCorner = Instance.new("UICorner", headerGrad)
	headerGradCorner.CornerRadius = UDim.new(0, 24)
	
	local headerGradGrad = Instance.new("UIGradient", headerGrad)
	headerGradGrad.Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 0),
		NumberSequenceKeypoint.new(1, 1)
	})
	headerGradGrad.Rotation = 90
	
	local headerIcon = Instance.new("TextLabel", header)
	headerIcon.Size = UDim2.fromOffset(55, 55)
	headerIcon.Position = UDim2.fromOffset(153, 8)
	headerIcon.BackgroundTransparency = 1
	headerIcon.Text = "‚ö°"
	headerIcon.Font = Enum.Font.GothamBold
	headerIcon.TextSize = 44
	headerIcon.ZIndex = 103
	
	local headerTitle = Instance.new("TextLabel", header)
	headerTitle.Size = UDim2.fromOffset(340, 22)
	headerTitle.Position = UDim2.fromOffset(10, 64)
	headerTitle.BackgroundTransparency = 1
	headerTitle.Text = "ADMIN COMMAND SPAMMER"
	headerTitle.Font = Enum.Font.GothamBold
	headerTitle.TextSize = 17
	headerTitle.TextColor3 = COLORS.TEXT
	headerTitle.ZIndex = 103
	
	-- Player list
	local playerListFrame = Instance.new("ScrollingFrame", adminSpammerMenu)
	playerListFrame.Size = UDim2.fromOffset(340, 535)
	playerListFrame.Position = UDim2.fromOffset(10, 105)
	playerListFrame.BackgroundColor3 = COLORS.BG_CARD
	playerListFrame.BackgroundTransparency = 0.35
	playerListFrame.BorderSizePixel = 0
	playerListFrame.ScrollBarThickness = 6
	playerListFrame.ScrollBarImageColor3 = COLORS.PRIMARY
	playerListFrame.ScrollBarImageTransparency = 0.3
	playerListFrame.CanvasSize = UDim2.fromOffset(340, 0)
	playerListFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
	playerListFrame.ZIndex = 102
	
	local listCorner = Instance.new("UICorner", playerListFrame)
	listCorner.CornerRadius = UDim.new(0, 16)
	
	local playerLayout = Instance.new("UIListLayout", playerListFrame)
	playerLayout.SortOrder = Enum.SortOrder.Name
	playerLayout.Padding = UDim.new(0, 10)
	
	local listPadding = Instance.new("UIPadding", playerListFrame)
	listPadding.PaddingTop = UDim.new(0, 12)
	listPadding.PaddingBottom = UDim.new(0, 12)
	listPadding.PaddingLeft = UDim.new(0, 12)
	listPadding.PaddingRight = UDim.new(0, 12)
	
	local function createPlayerEntry(plr)
		local entry = Instance.new("Frame", playerListFrame)
		entry.Name = plr.Name
		entry.Size = UDim2.fromOffset(306, 68)
		entry.BackgroundColor3 = COLORS.BG_GLASS
		entry.BackgroundTransparency = 0.4
		entry.BorderSizePixel = 0
		entry.ZIndex = 103
		
		local entryCorner = Instance.new("UICorner", entry)
		entryCorner.CornerRadius = UDim.new(0, 12)
		
		local entryStroke = Instance.new("UIStroke", entry)
		entryStroke.Color = COLORS.PRIMARY
		entryStroke.Thickness = 1.5
		entryStroke.Transparency = 0.65
		
		local nameLabel = Instance.new("TextLabel", entry)
		nameLabel.Size = UDim2.fromOffset(200, 26)
		nameLabel.Position = UDim2.fromOffset(12, 10)
		nameLabel.BackgroundTransparency = 1
		nameLabel.Text = plr.Name
		nameLabel.Font = Enum.Font.GothamBold
		nameLabel.TextSize = 15
		nameLabel.TextColor3 = COLORS.TEXT
		nameLabel.TextXAlignment = Enum.TextXAlignment.Left
		nameLabel.TextTruncate = Enum.TextTruncate.AtEnd
		nameLabel.ZIndex = 104
		
		local displayLabel = Instance.new("TextLabel", entry)
		displayLabel.Size = UDim2.fromOffset(200, 20)
		displayLabel.Position = UDim2.fromOffset(12, 40)
		displayLabel.BackgroundTransparency = 1
		displayLabel.Text = "@" .. plr.DisplayName
		displayLabel.Font = Enum.Font.Gotham
		displayLabel.TextSize = 12
		displayLabel.TextColor3 = COLORS.TEXT_MUTED
		displayLabel.TextXAlignment = Enum.TextXAlignment.Left
		displayLabel.TextTruncate = Enum.TextTruncate.AtEnd
		displayLabel.ZIndex = 104
		
		local spamBtn = Instance.new("TextButton", entry)
		spamBtn.Size = UDim2.fromOffset(78, 44)
		spamBtn.Position = UDim2.fromOffset(216, 12)
		spamBtn.BackgroundColor3 = COLORS.DANGER
		spamBtn.BackgroundTransparency = 0.15
		spamBtn.Text = "SPAM"
		spamBtn.Font = Enum.Font.GothamBold
		spamBtn.TextSize = 13
		spamBtn.TextColor3 = COLORS.TEXT
		spamBtn.BorderSizePixel = 0
		spamBtn.AutoButtonColor = false
		spamBtn.ZIndex = 104
		
		local btnCorner = Instance.new("UICorner", spamBtn)
		btnCorner.CornerRadius = UDim.new(0, 10)
		
		local btnStroke = Instance.new("UIStroke", spamBtn)
		btnStroke.Color = COLORS.DANGER
		btnStroke.Thickness = 1.5
		btnStroke.Transparency = 0.4
		
		spamBtn.MouseEnter:Connect(function()
			TweenService:Create(spamBtn, ANIM.SMOOTH, {BackgroundTransparency = 0, Size = UDim2.fromOffset(82, 48)}):Play()
			TweenService:Create(entry, ANIM.SMOOTH, {BackgroundTransparency = 0.25}):Play()
			TweenService:Create(btnStroke, ANIM.SMOOTH, {Transparency = 0.2}):Play()
		end)
		
		spamBtn.MouseLeave:Connect(function()
			TweenService:Create(spamBtn, ANIM.SMOOTH, {BackgroundTransparency = 0.15, Size = UDim2.fromOffset(78, 44)}):Play()
			TweenService:Create(entry, ANIM.SMOOTH, {BackgroundTransparency = 0.4}):Play()
			TweenService:Create(btnStroke, ANIM.SMOOTH, {Transparency = 0.4}):Play()
		end)
		
		spamBtn.MouseButton1Click:Connect(function()
			spamBtn.Text = "SPAMMING..."
			spamBtn.BackgroundColor3 = COLORS.WARNING
			
			spawn(function()
				spamAdminCommands(plr.Name)
				task.wait(0.5)
				if spamBtn and spamBtn.Parent then
					spamBtn.Text = "DONE!"
					spamBtn.BackgroundColor3 = COLORS.SUCCESS
					task.wait(2)
					if spamBtn and spamBtn.Parent then
						spamBtn.Text = "SPAM"
						spamBtn.BackgroundColor3 = COLORS.DANGER
					end
				end
			end)
		end)
	end
	
	-- Add players
	for _, plr in pairs(Players:GetPlayers()) do
		createPlayerEntry(plr)
	end
	
	Players.PlayerAdded:Connect(function(plr)
		if adminSpammerMenu and adminSpammerMenu.Parent then
			createPlayerEntry(plr)
		end
	end)
	
	Players.PlayerRemoving:Connect(function(plr)
		if adminSpammerMenu and playerListFrame:FindFirstChild(plr.Name) then
			playerListFrame:FindFirstChild(plr.Name):Destroy()
		end
	end)
	
	-- Animate open
	TweenService:Create(adminSpammerMenu, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Size = UDim2.fromOffset(360, 650),
		Position = UDim2.new(1, -380, 0.5, -325)
	}):Play()
end

-- SPEED BOOST
local isSpeedBoostOpen = false
local speedBoostMenu = nil
local currentSpeed = 25
local currentJumpPower = 45
local speedBoostEnabled = false
local speedConnections = {}

local function clearSpeedConnections()
	for _, connection in pairs(speedConnections) do
		if connection and typeof(connection) == "RBXScriptConnection" then
			connection:Disconnect()
		end
	end
	speedConnections = {}
end

local function applySpeedBoost(speed, jumpPower)
	local char = player.Character
	if char then
		local humanoid = char:FindFirstChildOfClass("Humanoid")
		if humanoid then
			humanoid.WalkSpeed = speed
			if humanoid.UseJumpPower == false then
				humanoid.UseJumpPower = true
			end
			humanoid.JumpPower = jumpPower
			print(string.format("‚úÖ Speed: %d | Jump: %d", speed, jumpPower))
			return true
		end
	end
	return false
end

local function setupStealthSpeedProtection()
	clearSpeedConnections()
	
	local char = player.Character
	if not char then return end
	
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if not humanoid then return end
	
	humanoid.WalkSpeed = currentSpeed
	if humanoid.UseJumpPower == false then
		humanoid.UseJumpPower = true
	end
	humanoid.JumpPower = currentJumpPower
	
	local walkSpeedConnection = humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(function()
		if speedBoostEnabled then
			task.wait(0.05)
			if humanoid.WalkSpeed ~= currentSpeed then
				humanoid.WalkSpeed = currentSpeed
			end
		end
	end)
	table.insert(speedConnections, walkSpeedConnection)
	
	local jumpConnection = humanoid:GetPropertyChangedSignal("JumpPower"):Connect(function()
		if speedBoostEnabled then
			task.wait(0.05)
			if humanoid.JumpPower ~= currentJumpPower then
				humanoid.JumpPower = currentJumpPower
			end
		end
	end)
	table.insert(speedConnections, jumpConnection)
end

local function createSpeedBoostMenu()
	if speedBoostMenu then speedBoostMenu:Destroy() end
	
	speedBoostMenu = Instance.new("Frame", gui)
	speedBoostMenu.Size = UDim2.fromOffset(0, 450)
	speedBoostMenu.Position = UDim2.new(1, 50, 0.5, -225)
	speedBoostMenu.BackgroundColor3 = COLORS.BG_GLASS
	speedBoostMenu.BackgroundTransparency = 0.12
	speedBoostMenu.BorderSizePixel = 0
	speedBoostMenu.ClipsDescendants = true
	speedBoostMenu.Active = true
	speedBoostMenu.ZIndex = 100
	
	local menuCorner = Instance.new("UICorner", speedBoostMenu)
	menuCorner.CornerRadius = UDim.new(0, 24)
	
	local menuStroke = Instance.new("UIStroke", speedBoostMenu)
	menuStroke.Color = COLORS.ACCENT
	menuStroke.Thickness = 2
	menuStroke.Transparency = 0.25
	
	-- Menu glow
	local menuGlow = Instance.new("ImageLabel", speedBoostMenu)
	menuGlow.Size = UDim2.fromScale(1.02, 1.02)
	menuGlow.Position = UDim2.fromScale(0.5, 0.5)
	menuGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	menuGlow.BackgroundTransparency = 1
	menuGlow.Image = "rbxassetid://5028857084"
	menuGlow.ImageColor3 = COLORS.ACCENT
	menuGlow.ImageTransparency = 0.5
	menuGlow.ScaleType = Enum.ScaleType.Slice
	menuGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	menuGlow.ZIndex = 99
	
	-- Draggable
	local dragging, dragStart, startPos
	
	speedBoostMenu.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = speedBoostMenu.Position
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = input.Position - dragStart
			speedBoostMenu.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)
	
	-- Header
	local header = Instance.new("Frame", speedBoostMenu)
	header.Size = UDim2.fromOffset(360, 90)
	header.BackgroundColor3 = COLORS.BG_CARD
	header.BackgroundTransparency = 0.3
	header.BorderSizePixel = 0
	header.ZIndex = 102
	
	local headerCorner = Instance.new("UICorner", header)
	headerCorner.CornerRadius = UDim.new(0, 24)
	
	-- Header gradient
	local headerGrad = Instance.new("Frame", header)
	headerGrad.Size = UDim2.fromScale(1, 0.5)
	headerGrad.BackgroundColor3 = COLORS.PRIMARY_GLOW
	headerGrad.BackgroundTransparency = 0.9
	headerGrad.BorderSizePixel = 0
	
	local headerGradCorner = Instance.new("UICorner", headerGrad)
	headerGradCorner.CornerRadius = UDim.new(0, 24)
	
	local headerGradGrad = Instance.new("UIGradient", headerGrad)
	headerGradGrad.Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 0),
		NumberSequenceKeypoint.new(1, 1)
	})
	headerGradGrad.Rotation = 90
	
	local headerIcon = Instance.new("TextLabel", header)
	headerIcon.Size = UDim2.fromOffset(55, 55)
	headerIcon.Position = UDim2.fromOffset(153, 8)
	headerIcon.BackgroundTransparency = 1
	headerIcon.Text = "üöÄ"
	headerIcon.Font = Enum.Font.GothamBold
	headerIcon.TextSize = 44
	headerIcon.ZIndex = 103
	
	local headerTitle = Instance.new("TextLabel", header)
	headerTitle.Size = UDim2.fromOffset(340, 22)
	headerTitle.Position = UDim2.fromOffset(10, 64)
	headerTitle.BackgroundTransparency = 1
	headerTitle.Text = "SPEED BOOST"
	headerTitle.Font = Enum.Font.GothamBold
	headerTitle.TextSize = 17
	headerTitle.TextColor3 = COLORS.TEXT
	headerTitle.ZIndex = 103
	
	-- Content container
	local content = Instance.new("Frame", speedBoostMenu)
	content.Size = UDim2.fromOffset(340, 340)
	content.Position = UDim2.fromOffset(10, 100)
	content.BackgroundTransparency = 1
	content.ZIndex = 102
	
	-- Toggle container
	local toggleContainer = Instance.new("Frame", content)
	toggleContainer.Size = UDim2.fromOffset(340, 68)
	toggleContainer.Position = UDim2.fromOffset(0, 0)
	toggleContainer.BackgroundColor3 = COLORS.BG_CARD
	toggleContainer.BackgroundTransparency = 0.35
	toggleContainer.BorderSizePixel = 0
	toggleContainer.ZIndex = 103
	
	local toggleCorner = Instance.new("UICorner", toggleContainer)
	toggleCorner.CornerRadius = UDim.new(0, 14)
	
	local toggleStroke = Instance.new("UIStroke", toggleContainer)
	toggleStroke.Color = COLORS.PRIMARY
	toggleStroke.Thickness = 1.5
	toggleStroke.Transparency = 0.65
	
	local toggleLabel = Instance.new("TextLabel", toggleContainer)
	toggleLabel.Size = UDim2.fromOffset(220, 68)
	toggleLabel.Position = UDim2.fromOffset(15, 0)
	toggleLabel.BackgroundTransparency = 1
	toggleLabel.Text = "‚ö° ENABLE BOOST"
	toggleLabel.Font = Enum.Font.GothamBold
	toggleLabel.TextSize = 16
	toggleLabel.TextColor3 = COLORS.TEXT
	toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
	toggleLabel.ZIndex = 104
	
	local toggleBtn = Instance.new("TextButton", toggleContainer)
	toggleBtn.Size = UDim2.fromOffset(88, 40)
	toggleBtn.Position = UDim2.fromOffset(238, 14)
	toggleBtn.BackgroundColor3 = COLORS.BG_GLASS
	toggleBtn.BorderSizePixel = 0
	toggleBtn.Text = ""
	toggleBtn.AutoButtonColor = false
	toggleBtn.ZIndex = 104
	
	local toggleBtnCorner = Instance.new("UICorner", toggleBtn)
	toggleBtnCorner.CornerRadius = UDim.new(1, 0)
	
	local toggleBtnStroke = Instance.new("UIStroke", toggleBtn)
	toggleBtnStroke.Color = COLORS.TEXT_DARK
	toggleBtnStroke.Thickness = 2
	toggleBtnStroke.Transparency = 0.5
	
	local toggleCircle = Instance.new("Frame", toggleBtn)
	toggleCircle.Size = UDim2.fromOffset(32, 32)
	toggleCircle.Position = UDim2.fromOffset(4, 4)
	toggleCircle.BackgroundColor3 = COLORS.TEXT_MUTED
	toggleCircle.BorderSizePixel = 0
	toggleCircle.ZIndex = 105
	
	local circleCorner = Instance.new("UICorner", toggleCircle)
	circleCorner.CornerRadius = UDim.new(1, 0)
	
	-- Circle glow
	local circleGlow = Instance.new("ImageLabel", toggleCircle)
	circleGlow.Size = UDim2.fromScale(1.6, 1.6)
	circleGlow.Position = UDim2.fromScale(0.5, 0.5)
	circleGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	circleGlow.BackgroundTransparency = 1
	circleGlow.Image = "rbxassetid://5028857084"
	circleGlow.ImageColor3 = COLORS.PRIMARY
	circleGlow.ImageTransparency = 1
	circleGlow.ScaleType = Enum.ScaleType.Slice
	circleGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	circleGlow.ZIndex = 104
	
	local function updateToggle(enabled)
		speedBoostEnabled = enabled
		
		if enabled then
			TweenService:Create(toggleBtn, ANIM.SMOOTH, {BackgroundColor3 = COLORS.PRIMARY}):Play()
			TweenService:Create(toggleBtnStroke, ANIM.SMOOTH, {Color = COLORS.PRIMARY_LIGHT, Transparency = 0.2}):Play()
			TweenService:Create(toggleCircle, ANIM.ELASTIC, {
				Position = UDim2.fromOffset(52, 4),
				BackgroundColor3 = COLORS.TEXT
			}):Play()
			TweenService:Create(circleGlow, ANIM.SMOOTH, {ImageTransparency = 0.4}):Play()
			
			applySpeedBoost(currentSpeed, currentJumpPower)
			setupStealthSpeedProtection()
		else
			TweenService:Create(toggleBtn, ANIM.SMOOTH, {BackgroundColor3 = COLORS.BG_GLASS}):Play()
			TweenService:Create(toggleBtnStroke, ANIM.SMOOTH, {Color = COLORS.TEXT_DARK, Transparency = 0.5}):Play()
			TweenService:Create(toggleCircle, ANIM.ELASTIC, {
				Position = UDim2.fromOffset(4, 4),
				BackgroundColor3 = COLORS.TEXT_MUTED
			}):Play()
			TweenService:Create(circleGlow, ANIM.SMOOTH, {ImageTransparency = 1}):Play()
			
			clearSpeedConnections()
			local char = player.Character
			if char then
				local humanoid = char:FindFirstChildOfClass("Humanoid")
				if humanoid then
					humanoid.WalkSpeed = 16
					humanoid.JumpPower = 50
				end
			end
		end
	end
	
	toggleBtn.MouseButton1Click:Connect(function()
		updateToggle(not speedBoostEnabled)
	end)
	
	updateToggle(speedBoostEnabled)
	
	-- Speed input
	local speedLabel = Instance.new("TextLabel", content)
	speedLabel.Size = UDim2.fromOffset(340, 28)
	speedLabel.Position = UDim2.fromOffset(0, 88)
	speedLabel.BackgroundTransparency = 1
	speedLabel.Text = "‚ö° SPEED"
	speedLabel.Font = Enum.Font.GothamBold
	speedLabel.TextSize = 15
	speedLabel.TextColor3 = COLORS.TEXT
	speedLabel.TextXAlignment = Enum.TextXAlignment.Left
	speedLabel.ZIndex = 103
	
	local speedBox = Instance.new("TextBox", content)
	speedBox.Size = UDim2.fromOffset(340, 56)
	speedBox.Position = UDim2.fromOffset(0, 120)
	speedBox.BackgroundColor3 = COLORS.BG_CARD
	speedBox.BackgroundTransparency = 0.35
	speedBox.BorderSizePixel = 0
	speedBox.Text = tostring(currentSpeed)
	speedBox.PlaceholderText = "Enter speed"
	speedBox.Font = Enum.Font.GothamBold
	speedBox.TextSize = 17
	speedBox.TextColor3 = COLORS.TEXT
	speedBox.ZIndex = 103
	speedBox.ClearTextOnFocus = false
	
	local speedBoxCorner = Instance.new("UICorner", speedBox)
	speedBoxCorner.CornerRadius = UDim.new(0, 14)
	
	local speedBoxStroke = Instance.new("UIStroke", speedBox)
	speedBoxStroke.Color = COLORS.PRIMARY
	speedBoxStroke.Thickness = 1.5
	speedBoxStroke.Transparency = 0.65
	
	speedBox.Focused:Connect(function()
		TweenService:Create(speedBoxStroke, ANIM.SMOOTH, {Transparency = 0.3, Color = COLORS.ACCENT}):Play()
	end)
	
	speedBox.FocusLost:Connect(function()
		TweenService:Create(speedBoxStroke, ANIM.SMOOTH, {Transparency = 0.65, Color = COLORS.PRIMARY}):Play()
		
		local speedValue = tonumber(speedBox.Text)
		if speedValue and speedValue > 0 then
			currentSpeed = speedValue
			if speedBoostEnabled then
				applySpeedBoost(currentSpeed, currentJumpPower)
				setupStealthSpeedProtection()
			end
		else
			speedBox.Text = tostring(currentSpeed)
		end
	end)
	
	-- Jump input
	local jumpLabel = Instance.new("TextLabel", content)
	jumpLabel.Size = UDim2.fromOffset(340, 28)
	jumpLabel.Position = UDim2.fromOffset(0, 196)
	jumpLabel.BackgroundTransparency = 1
	jumpLabel.Text = "ü¶ò JUMP POWER"
	jumpLabel.Font = Enum.Font.GothamBold
	jumpLabel.TextSize = 15
	jumpLabel.TextColor3 = COLORS.TEXT
	jumpLabel.TextXAlignment = Enum.TextXAlignment.Left
	jumpLabel.ZIndex = 103
	
	local jumpBox = Instance.new("TextBox", content)
	jumpBox.Size = UDim2.fromOffset(340, 56)
	jumpBox.Position = UDim2.fromOffset(0, 228)
	jumpBox.BackgroundColor3 = COLORS.BG_CARD
	jumpBox.BackgroundTransparency = 0.35
	jumpBox.BorderSizePixel = 0
	jumpBox.Text = tostring(currentJumpPower)
	jumpBox.PlaceholderText = "Enter jump power"
	jumpBox.Font = Enum.Font.GothamBold
	jumpBox.TextSize = 17
	jumpBox.TextColor3 = COLORS.TEXT
	jumpBox.ZIndex = 103
	jumpBox.ClearTextOnFocus = false
	
	local jumpBoxCorner = Instance.new("UICorner", jumpBox)
	jumpBoxCorner.CornerRadius = UDim.new(0, 14)
	
	local jumpBoxStroke = Instance.new("UIStroke", jumpBox)
	jumpBoxStroke.Color = COLORS.PRIMARY
	jumpBoxStroke.Thickness = 1.5
	jumpBoxStroke.Transparency = 0.65
	
	jumpBox.Focused:Connect(function()
		TweenService:Create(jumpBoxStroke, ANIM.SMOOTH, {Transparency = 0.3, Color = COLORS.ACCENT}):Play()
	end)
	
	jumpBox.FocusLost:Connect(function()
		TweenService:Create(jumpBoxStroke, ANIM.SMOOTH, {Transparency = 0.65, Color = COLORS.PRIMARY}):Play()
		
		local jumpValue = tonumber(jumpBox.Text)
		if jumpValue and jumpValue > 0 then
			currentJumpPower = jumpValue
			if speedBoostEnabled then
				applySpeedBoost(currentSpeed, currentJumpPower)
				setupStealthSpeedProtection()
			end
		else
			jumpBox.Text = tostring(currentJumpPower)
		end
	end)
	
	-- Animate open
	TweenService:Create(speedBoostMenu, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Size = UDim2.fromOffset(360, 450),
		Position = UDim2.new(1, -380, 0.5, -225)
	}):Play()
end

player.CharacterAdded:Connect(function(char)
	task.wait(0.5)
	if speedBoostEnabled then
		applySpeedBoost(currentSpeed, currentJumpPower)
		task.wait(0.1)
		setupStealthSpeedProtection()
	end
end)

-- TOGGLE FRIENDS
local isFriendsToggleOpen = false
local friendsToggleButton = nil
local friendsEnabled = false

local function toggleFriends()
	local foundRemote = false
	
	for _, descendant in pairs(ReplicatedStorage:GetDescendants()) do
		if descendant:IsA("RemoteEvent") or descendant:IsA("RemoteFunction") then
			local name = descendant.Name:lower()
			if name:find("friend") or name:find("toggle") or name:find("allow") then
				pcall(function()
					if descendant:IsA("RemoteEvent") then
						descendant:FireServer(not friendsEnabled)
					elseif descendant:IsA("RemoteFunction") then
						descendant:InvokeServer(not friendsEnabled)
					end
					foundRemote = true
				end)
			end
		end
	end
	
	return foundRemote
end

local function createFloatingToggle()
	if friendsToggleButton then friendsToggleButton:Destroy() end
	
	friendsToggleButton = Instance.new("Frame", gui)
	friendsToggleButton.Size = UDim2.fromOffset(0, 0)
	friendsToggleButton.Position = UDim2.new(0.5, -60, 0.3, -45)
	friendsToggleButton.BackgroundColor3 = COLORS.BG_GLASS
	friendsToggleButton.BackgroundTransparency = 0.12
	friendsToggleButton.BorderSizePixel = 0
	friendsToggleButton.Active = true
	friendsToggleButton.ZIndex = 150
	
	local toggleCorner = Instance.new("UICorner", friendsToggleButton)
	toggleCorner.CornerRadius = UDim.new(0, 18)
	
	local toggleStroke = Instance.new("UIStroke", friendsToggleButton)
	toggleStroke.Color = friendsEnabled and COLORS.SUCCESS or COLORS.DANGER
	toggleStroke.Thickness = 2.5
	toggleStroke.Transparency = 0.2
	
	-- Glow effect
	local toggleGlow = Instance.new("ImageLabel", friendsToggleButton)
	toggleGlow.Size = UDim2.fromScale(1.1, 1.1)
	toggleGlow.Position = UDim2.fromScale(0.5, 0.5)
	toggleGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	toggleGlow.BackgroundTransparency = 1
	toggleGlow.Image = "rbxassetid://5028857084"
	toggleGlow.ImageColor3 = friendsEnabled and COLORS.SUCCESS or COLORS.DANGER
	toggleGlow.ImageTransparency = 0.5
	toggleGlow.ScaleType = Enum.ScaleType.Slice
	toggleGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	toggleGlow.ZIndex = 149
	
	local statusText = Instance.new("TextLabel", friendsToggleButton)
	statusText.Size = UDim2.fromScale(1, 1)
	statusText.BackgroundTransparency = 1
	statusText.Text = friendsEnabled and "ON" or "OFF"
	statusText.Font = Enum.Font.GothamBold
	statusText.TextSize = 28
	statusText.TextColor3 = friendsEnabled and COLORS.SUCCESS or COLORS.DANGER
	statusText.ZIndex = 151
	
	local clickBtn = Instance.new("TextButton", friendsToggleButton)
	clickBtn.Size = UDim2.fromScale(1, 1)
	clickBtn.BackgroundTransparency = 1
	clickBtn.Text = ""
	clickBtn.ZIndex = 152
	
	-- Draggable
	local dragging, dragStart, startPos
	
	clickBtn.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = friendsToggleButton.Position
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = input.Position - dragStart
			friendsToggleButton.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)
	
	clickBtn.MouseButton1Click:Connect(function()
		local success = toggleFriends()
		
		if success then
			friendsEnabled = not friendsEnabled
			
			if friendsEnabled then
				TweenService:Create(toggleStroke, ANIM.SMOOTH, {Color = COLORS.SUCCESS}):Play()
				TweenService:Create(toggleGlow, ANIM.SMOOTH, {ImageColor3 = COLORS.SUCCESS}):Play()
				TweenService:Create(statusText, ANIM.SMOOTH, {TextColor3 = COLORS.SUCCESS}):Play()
				statusText.Text = "ON"
			else
				TweenService:Create(toggleStroke, ANIM.SMOOTH, {Color = COLORS.DANGER}):Play()
				TweenService:Create(toggleGlow, ANIM.SMOOTH, {ImageColor3 = COLORS.DANGER}):Play()
				TweenService:Create(statusText, ANIM.SMOOTH, {TextColor3 = COLORS.DANGER}):Play()
				statusText.Text = "OFF"
			end
		end
	end)
	
	TweenService:Create(friendsToggleButton, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Size = UDim2.fromOffset(120, 90),
		Position = UDim2.new(0.5, -60, 0.3, -45)
	}):Play()
end

-- Create world action cards
local adminCard, adminBtn = createActionCard(
	"ADMIN COMMAND SPAMMER",
	"Spam all admin commands on any player",
	"‚ö°",
	worldContent,
	function(btn)
		if isAdminSpammerOpen then
			if adminSpammerMenu then
				TweenService:Create(adminSpammerMenu, ANIM.SMOOTH, {
					Position = UDim2.new(1, 50, 0.5, -325),
					Size = UDim2.fromOffset(0, 650)
				}):Play()
				task.wait(0.4)
				adminSpammerMenu:Destroy()
				adminSpammerMenu = nil
			end
			isAdminSpammerOpen = false
			btn.Text = "‚ñ∂"
		else
			createAdminSpammerMenu()
			isAdminSpammerOpen = true
			btn.Text = "‚óÄ"
		end
	end
)

local speedCard, speedBtn = createActionCard(
	"DUCKY SPEED BOOST",
	"Customize your speed and jump power",
	"üöÄ",
	worldContent,
	function(btn)
		if isSpeedBoostOpen then
			if speedBoostMenu then
				TweenService:Create(speedBoostMenu, ANIM.SMOOTH, {
					Position = UDim2.new(1, 50, 0.5, -225),
					Size = UDim2.fromOffset(0, 450)
				}):Play()
				task.wait(0.4)
				speedBoostMenu:Destroy()
				speedBoostMenu = nil
			end
			isSpeedBoostOpen = false
			btn.Text = "‚ñ∂"
		else
			createSpeedBoostMenu()
			isSpeedBoostOpen = true
			btn.Text = "‚óÄ"
		end
	end
)

local friendsCard, friendsBtn = createActionCard(
	"TOGGLE FRIENDS",
	"Allow/deny friends access to your base",
	"üë•",
	worldContent,
	function(btn)
		if isFriendsToggleOpen then
			if friendsToggleButton then
				TweenService:Create(friendsToggleButton, ANIM.SMOOTH, {
					Position = UDim2.new(0.5, -60, 0, -120),
					Size = UDim2.fromOffset(0, 0)
				}):Play()
				task.wait(0.4)
				friendsToggleButton:Destroy()
				friendsToggleButton = nil
			end
			isFriendsToggleOpen = false
			btn.Text = "‚ñ∂"
		else
			createFloatingToggle()
			isFriendsToggleOpen = true
			btn.Text = "‚óÄ"
		end
	end
)

--======================
-- STEAL/SETTINGS SECTIONS
--======================

-- Steal section placeholder
local stealInfo = Instance.new("TextLabel", stealContent)
stealInfo.Size = UDim2.fromOffset(485, 85)  -- Changed from 615, 110
stealInfo.BackgroundColor3 = COLORS.BG_CARD
stealInfo.BackgroundTransparency = 0.4
stealInfo.BorderSizePixel = 0
stealInfo.Text = "‚ö° INSTANT STEAL\n\nAuto-steal features coming soon!"
stealInfo.Font = Enum.Font.GothamBold
stealInfo.TextSize = 15  -- Changed from 17
stealInfo.TextColor3 = COLORS.TEXT
stealInfo.TextWrapped = true
Instance.new("UICorner", stealInfo).CornerRadius = UDim.new(0, 13)  -- Changed from 16
local stealStroke = Instance.new("UIStroke", stealInfo)
stealStroke.Color = COLORS.PRIMARY
stealStroke.Thickness = 1.5
stealStroke.Transparency = 0.75



-- Settings section placeholder
local settingsInfo = Instance.new("TextLabel", settingsContent)
settingsInfo.Size = UDim2.fromOffset(615, 110)
settingsInfo.BackgroundColor3 = COLORS.BG_CARD
settingsInfo.BackgroundTransparency = 0.4
settingsInfo.BorderSizePixel = 0
settingsInfo.Text = "‚öôÔ∏è SETTINGS\n\nCustomization options coming soon!"
settingsInfo.Font = Enum.Font.GothamBold
settingsInfo.TextSize = 17
settingsInfo.TextColor3 = COLORS.TEXT
settingsInfo.TextWrapped = true
Instance.new("UICorner", settingsInfo).CornerRadius = UDim.new(0, 16)
local settingsStroke = Instance.new("UIStroke", settingsInfo)
settingsStroke.Color = COLORS.PRIMARY
settingsStroke.Thickness = 1.5
settingsStroke.Transparency = 0.75

-- Set default section with enhanced animation
espSection.Visible = true
currentSection = espSection
currentNavButton = espNavBtn

TweenService:Create(espNavBtn, ANIM.SMOOTH, {BackgroundTransparency = 0.15}):Play()
local espStroke = espNavBtn:FindFirstChild("UIStroke")
if espStroke then
	espStroke.Color = COLORS.ACCENT
	espStroke.Transparency = 0.25
end
local hoverGlow = nil
for _, child in pairs(espNavBtn:GetChildren()) do
	if child:IsA("Frame") and child.Name ~= "Frame" then
		hoverGlow = child
		break
	end
end
if hoverGlow then
	TweenService:Create(hoverGlow, ANIM.SMOOTH, {BackgroundTransparency = 0.7}):Play()
end
for _, child in pairs(espNavBtn:GetChildren()) do
	if child:IsA("TextLabel") then
		child.TextColor3 = child.Text:match("^[%w]") and COLORS.TEXT or COLORS.ACCENT_LIGHT
		if child.Text:match("^[%w]") == nil then child.TextSize = 34 end
	elseif child:IsA("Frame") and child.Name == "Frame" then
		child.Size = UDim2.fromOffset(5, 62)
		child.BackgroundColor3 = COLORS.ACCENT
	end
end

-- Premium entrance animation
main.Size = UDim2.fromOffset(0, 0)
main.Position = UDim2.new(0.5, 0, 0.5, 0)
main.BackgroundTransparency = 1

-- ... (rest stays same until final tween)

TweenService:Create(main, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
	Size = UDim2.fromOffset(720, 480),  -- Changed from 920, 620
	Position = UDim2.new(0.5, -360, 0.5, -240),  -- Changed from -460, -310
	BackgroundTransparency = 0.12
}):Play()

task.wait(0.2)

for _, child in pairs(main:GetDescendants()) do
	if child:IsA("TextLabel") or child:IsA("TextButton") then
		TweenService:Create(child, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
	elseif child:IsA("Frame") or child:IsA("ImageLabel") then
		local targetTrans = 1
		if child.Name == "glassLayer1" then
			targetTrans = 0.94
		elseif child.Name == "glassLayer2" then
			targetTrans = 0.92
		elseif child.BackgroundColor3 == COLORS.BG_GLASS or child.BackgroundColor3 == COLORS.BG_CARD then
			targetTrans = child.Name:find("container") and 0.4 or 0.3
		end
		if targetTrans < 1 then
			TweenService:Create(child, TweenInfo.new(0.5), {BackgroundTransparency = targetTrans}):Play()
		end
	elseif child:IsA("UIStroke") then
		local targetTrans = child.Parent.Name:find("NavButton") and 0.75 or 0.65
		TweenService:Create(child, TweenInfo.new(0.5), {Transparency = targetTrans}):Play()
	end
end

print("‚úÖ Ducky Hub v2 ULTRA SLICK loaded!")
print("üé® Enhanced glassmorphism design")
print("‚ú® Premium animations and effects")
print("üåü All features preserved and enhanced")

--======================
-- PREMIUM KEY SYSTEM & TAB TOGGLE
--======================

-- List of 100 valid keys
local VALID_KEYS = {
	"DUCKY-2024-PREMIUM-A1B2C3",
	"SLICK-ULTRA-KEY-D4E5F6",
	"QUACK-ELITE-PASS-G7H8I9",
	"PREMIUM-DUCKY-J0K1L2",
	"ULTRA-ACCESS-M3N4O5",
	"GOLDEN-DUCK-P6Q7R8",
	"DIAMOND-KEY-S9T0U1",
	"ELITE-QUACK-V2W3X4",
	"MASTER-DUCK-Y5Z6A7",
	"SUPREME-KEY-B8C9D0",
	"PLATINUM-PASS-E1F2G3",
	"MEGA-DUCKY-H4I5J6",
	"HYPER-ACCESS-K7L8M9",
	"ROYAL-QUACK-N0O1P2",
	"LEGENDARY-KEY-Q3R4S5",
	"COSMIC-DUCK-T6U7V8",
	"ALPHA-PREMIUM-W9X0Y1",
	"BETA-ELITE-Z2A3B4",
	"GAMMA-ULTRA-C5D6E7",
	"DELTA-SUPREME-F8G9H0",
	"EPSILON-MEGA-I1J2K3",
	"ZETA-HYPER-L4M5N6",
	"ETA-ROYAL-O7P8Q9",
	"THETA-LEGEND-R0S1T2",
	"IOTA-COSMIC-U3V4W5",
	"KAPPA-GOLD-X6Y7Z8",
	"LAMBDA-DIAMOND-A9B0C1",
	"MU-PLATINUM-D2E3F4",
	"NU-MASTER-G5H6I7",
	"XI-SUPREME-J8K9L0",
	"OMICRON-ELITE-M1N2O3",
	"PI-PREMIUM-P4Q5R6",
	"RHO-ULTRA-S7T8U9",
	"SIGMA-MEGA-V0W1X2",
	"TAU-HYPER-Y3Z4A5",
	"UPSILON-ROYAL-B6C7D8",
	"PHI-LEGEND-E9F0G1",
	"CHI-COSMIC-H2I3J4",
	"PSI-GOLD-K5L6M7",
	"OMEGA-DIAMOND-N8O9P0",
	"DUCKY-VIP-2024-Q1R2S3",
	"SLICK-PRO-ACCESS-T4U5V6",
	"QUACK-MASTER-W7X8Y9",
	"ELITE-DUCK-2024-Z0A1B2",
	"PREMIUM-SLICK-C3D4E5",
	"ULTRA-QUACK-F6G7H8",
	"GOLDEN-ELITE-I9J0K1",
	"DIAMOND-SLICK-L2M3N4",
	"PLATINUM-DUCK-O5P6Q7",
	"MEGA-PREMIUM-R8S9T0",
	"HYPER-ELITE-U1V2W3",
	"ROYAL-SLICK-X4Y5Z6",
	"LEGENDARY-DUCK-A7B8C9",
	"COSMIC-PREMIUM-D0E1F2",
	"ALPHA-DUCK-KEY-G3H4I5",
	"BETA-SLICK-PASS-J6K7L8",
	"GAMMA-QUACK-PRO-M9N0O1",
	"DELTA-ELITE-VIP-P2Q3R4",
	"EPSILON-ULTRA-KEY-S5T6U7",
	"ZETA-PREMIUM-PASS-V8W9X0",
	"ETA-MEGA-ACCESS-Y1Z2A3",
	"THETA-HYPER-KEY-B4C5D6",
	"IOTA-ROYAL-PASS-E7F8G9",
	"KAPPA-LEGEND-KEY-H0I1J2",
	"LAMBDA-COSMIC-VIP-K3L4M5",
	"MU-GOLD-ACCESS-N6O7P8",
	"NU-DIAMOND-KEY-Q9R0S1",
	"XI-PLATINUM-PASS-T2U3V4",
	"OMICRON-MASTER-KEY-W5X6Y7",
	"PI-SUPREME-ACCESS-Z8A9B0",
	"RHO-ELITE-VIP-C1D2E3",
	"SIGMA-PREMIUM-KEY-F4G5H6",
	"TAU-ULTRA-PASS-I7J8K9",
	"UPSILON-MEGA-KEY-L0M1N2",
	"PHI-HYPER-ACCESS-O3P4Q5",
	"CHI-ROYAL-VIP-R6S7T8",
	"PSI-LEGEND-KEY-U9V0W1",
	"OMEGA-COSMIC-PASS-X2Y3Z4",
	"DUCKY-2024-ELITE-A5B6C7",
	"SLICK-PREMIUM-VIP-D8E9F0",
	"QUACK-ULTRA-PRO-G1H2I3",
	"PREMIUM-GOLD-KEY-J4K5L6",
	"ULTRA-DIAMOND-PASS-M7N8O9",
	"GOLDEN-PLATINUM-KEY-P0Q1R2",
	"DIAMOND-MEGA-ACCESS-S3T4U5",
	"PLATINUM-HYPER-VIP-V6W7X8",
	"MEGA-ROYAL-KEY-Y9Z0A1",
	"HYPER-LEGEND-PASS-B2C3D4",
	"ROYAL-COSMIC-KEY-E5F6G7",
	"LEGENDARY-ALPHA-VIP-H8I9J0",
	"COSMIC-BETA-ACCESS-K1L2M3",
	"ALPHA-GAMMA-KEY-N4O5P6",
	"BETA-DELTA-PASS-Q7R8S9",
	"GAMMA-EPSILON-VIP-T0U1V2",
	"DELTA-ZETA-KEY-W3X4Y5",
	"EPSILON-ETA-ACCESS-Z6A7B8",
	"ZETA-THETA-PASS-C9D0E1",
	"ETA-IOTA-VIP-F2G3H4",
	"THETA-KAPPA-KEY-I5J6K7",
	"IOTA-LAMBDA-ACCESS-L8M9N0",
}

-- Key authentication state
local keyAuthenticated = false
local keySystemUI = nil

-- Function to validate key
local function validateKey(inputKey)
	for _, validKey in pairs(VALID_KEYS) do
		if inputKey == validKey then
			return true
		end
	end
	return false
end

-- Function to create key system UI
local function createKeySystem()
	keySystemUI = Instance.new("ScreenGui")
	keySystemUI.Name = "DuckyKeySystem"
	keySystemUI.ResetOnSpawn = false
	keySystemUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	keySystemUI.DisplayOrder = 10000
	
	local success, playerGui = pcall(function()
		return player:WaitForChild("PlayerGui", 5)
	end)
	
	if success and playerGui then
		keySystemUI.Parent = playerGui
	else
		warn("‚ö†Ô∏è Could not find PlayerGui for key system")
		return
	end
	
	-- Blur background
	local blur = Instance.new("Frame", keySystemUI)
	blur.Size = UDim2.fromScale(1, 1)
	blur.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	blur.BackgroundTransparency = 0.3
	blur.BorderSizePixel = 0
	blur.ZIndex = 200
	
	-- Main key container
	local keyContainer = Instance.new("Frame", keySystemUI)
	keyContainer.Size = UDim2.fromOffset(0, 0)
	keyContainer.Position = UDim2.new(0.5, 0, 0.5, 0)
	keyContainer.AnchorPoint = Vector2.new(0.5, 0.5)
	keyContainer.BackgroundColor3 = COLORS.BG_GLASS
	keyContainer.BackgroundTransparency = 0.08
	keyContainer.BorderSizePixel = 0
	keyContainer.ClipsDescendants = true
	keyContainer.ZIndex = 201
	
	local containerCorner = Instance.new("UICorner", keyContainer)
	containerCorner.CornerRadius = UDim.new(0, 28)
	
	local containerStroke = Instance.new("UIStroke", keyContainer)
	containerStroke.Color = COLORS.ACCENT
	containerStroke.Thickness = 3
	containerStroke.Transparency = 0.2
	
	-- Glow effect
	local containerGlow = Instance.new("ImageLabel", keyContainer)
	containerGlow.Size = UDim2.fromScale(1.05, 1.05)
	containerGlow.Position = UDim2.fromScale(0.5, 0.5)
	containerGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	containerGlow.BackgroundTransparency = 1
	containerGlow.Image = "rbxassetid://5028857084"
	containerGlow.ImageColor3 = COLORS.ACCENT
	containerGlow.ImageTransparency = 0.4
	containerGlow.ScaleType = Enum.ScaleType.Slice
	containerGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	containerGlow.ZIndex = 200
	
	-- Animated gradient overlay
	local gradientOverlay = Instance.new("Frame", keyContainer)
	gradientOverlay.Size = UDim2.fromScale(1, 0.4)
	gradientOverlay.BackgroundColor3 = COLORS.ACCENT
	gradientOverlay.BackgroundTransparency = 0.88
	gradientOverlay.BorderSizePixel = 0
	gradientOverlay.ZIndex = 201
	
	local gradOverlayCorner = Instance.new("UICorner", gradientOverlay)
	gradOverlayCorner.CornerRadius = UDim.new(0, 28)
	
	local gradOverlayGrad = Instance.new("UIGradient", gradientOverlay)
	gradOverlayGrad.Color = ColorSequence.new({
		ColorSequenceKeypoint.new(0, COLORS.PRIMARY),
		ColorSequenceKeypoint.new(0.5, COLORS.ACCENT),
		ColorSequenceKeypoint.new(1, COLORS.PRIMARY_DARK)
	})
	gradOverlayGrad.Rotation = 45
	gradOverlayGrad.Transparency = NumberSequence.new({
		NumberSequenceKeypoint.new(0, 0),
		NumberSequenceKeypoint.new(1, 1)
	})
	
	-- Animate gradient
	spawn(function()
		while keySystemUI.Parent do
			for i = 45, 405, 0.5 do
				if not keySystemUI.Parent then break end
				gradOverlayGrad.Rotation = i % 360
				task.wait(0.02)
			end
		end
	end)
	
	-- Duck icon
	local duckIcon = Instance.new("TextLabel", keyContainer)
	duckIcon.Size = UDim2.fromOffset(80, 80)
	duckIcon.Position = UDim2.fromOffset(210, 30)
	duckIcon.BackgroundTransparency = 1
	duckIcon.Text = "ü¶Ü"
	duckIcon.Font = Enum.Font.GothamBold
	duckIcon.TextSize = 64
	duckIcon.ZIndex = 202
	
	-- Title
	local title = Instance.new("TextLabel", keyContainer)
	title.Size = UDim2.fromOffset(460, 40)
	title.Position = UDim2.fromOffset(20, 120)
	title.BackgroundTransparency = 1
	title.Text = "DUCKY HUB PREMIUM"
	title.Font = Enum.Font.GothamBold
	title.TextSize = 28
	title.TextColor3 = COLORS.TEXT
	title.ZIndex = 202
	
	local titleGradient = Instance.new("UIGradient", title)
	titleGradient.Color = ColorSequence.new({
		ColorSequenceKeypoint.new(0, COLORS.TEXT),
		ColorSequenceKeypoint.new(1, COLORS.ACCENT_LIGHT)
	})
	titleGradient.Rotation = 90
	
	-- Subtitle
	local subtitle = Instance.new("TextLabel", keyContainer)
	subtitle.Size = UDim2.fromOffset(460, 30)
	subtitle.Position = UDim2.fromOffset(20, 165)
	subtitle.BackgroundTransparency = 1
	subtitle.Text = "Enter your premium key to access"
	subtitle.Font = Enum.Font.Gotham
	subtitle.TextSize = 15
	subtitle.TextColor3 = COLORS.TEXT_MUTED
	subtitle.ZIndex = 202
	
	-- Key input background
	local inputBg = Instance.new("Frame", keyContainer)
	inputBg.Size = UDim2.fromOffset(440, 70)
	inputBg.Position = UDim2.fromOffset(30, 220)
	inputBg.BackgroundColor3 = COLORS.BG_CARD
	inputBg.BackgroundTransparency = 0.3
	inputBg.BorderSizePixel = 0
	inputBg.ZIndex = 202
	
	local inputCorner = Instance.new("UICorner", inputBg)
	inputCorner.CornerRadius = UDim.new(0, 16)
	
	local inputStroke = Instance.new("UIStroke", inputBg)
	inputStroke.Color = COLORS.PRIMARY
	inputStroke.Thickness = 2
	inputStroke.Transparency = 0.5
	
	-- Key input
	local keyInput = Instance.new("TextBox", inputBg)
	keyInput.Size = UDim2.fromOffset(400, 60)
	keyInput.Position = UDim2.fromOffset(20, 5)
	keyInput.BackgroundTransparency = 1
	keyInput.PlaceholderText = "DUCKY-2024-PREMIUM-XXXXX"
	keyInput.PlaceholderColor3 = COLORS.TEXT_DIMMED
	keyInput.Text = ""
	keyInput.Font = Enum.Font.GothamBold
	keyInput.TextSize = 18
	keyInput.TextColor3 = COLORS.TEXT
	keyInput.ClearTextOnFocus = false
	keyInput.ZIndex = 203
	
	keyInput.Focused:Connect(function()
		TweenService:Create(inputStroke, ANIM.SMOOTH, {
			Color = COLORS.ACCENT,
			Transparency = 0.2,
			Thickness = 2.5
		}):Play()
		TweenService:Create(inputBg, ANIM.SMOOTH, {BackgroundTransparency = 0.2}):Play()
	end)
	
	keyInput.FocusLost:Connect(function()
		TweenService:Create(inputStroke, ANIM.SMOOTH, {
			Color = COLORS.PRIMARY,
			Transparency = 0.5,
			Thickness = 2
		}):Play()
		TweenService:Create(inputBg, ANIM.SMOOTH, {BackgroundTransparency = 0.3}):Play()
	end)
	
	-- Submit button
	local submitBtn = Instance.new("TextButton", keyContainer)
	submitBtn.Size = UDim2.fromOffset(440, 65)
	submitBtn.Position = UDim2.fromOffset(30, 310)
	submitBtn.BackgroundColor3 = COLORS.ACCENT
	submitBtn.BackgroundTransparency = 0.1
	submitBtn.Text = "üîë AUTHENTICATE"
	submitBtn.Font = Enum.Font.GothamBold
	submitBtn.TextSize = 20
	submitBtn.TextColor3 = COLORS.TEXT
	submitBtn.BorderSizePixel = 0
	submitBtn.AutoButtonColor = false
	submitBtn.ZIndex = 202
	
	local submitCorner = Instance.new("UICorner", submitBtn)
	submitCorner.CornerRadius = UDim.new(0, 16)
	
	local submitStroke = Instance.new("UIStroke", submitBtn)
	submitStroke.Color = COLORS.ACCENT_LIGHT
	submitStroke.Thickness = 2
	submitStroke.Transparency = 0.3
	
	local submitGlow = Instance.new("ImageLabel", submitBtn)
	submitGlow.Size = UDim2.fromScale(1.15, 1.15)
	submitGlow.Position = UDim2.fromScale(0.5, 0.5)
	submitGlow.AnchorPoint = Vector2.new(0.5, 0.5)
	submitGlow.BackgroundTransparency = 1
	submitGlow.Image = "rbxassetid://5028857084"
	submitGlow.ImageColor3 = COLORS.ACCENT
	submitGlow.ImageTransparency = 0.6
	submitGlow.ScaleType = Enum.ScaleType.Slice
	submitGlow.SliceCenter = Rect.new(24, 24, 276, 276)
	submitGlow.ZIndex = 201
	
	submitBtn.MouseEnter:Connect(function()
		TweenService:Create(submitBtn, ANIM.SMOOTH, {
			BackgroundTransparency = 0,
			Size = UDim2.fromOffset(450, 70)
		}):Play()
		TweenService:Create(submitStroke, ANIM.SMOOTH, {Transparency = 0.1, Thickness = 2.5}):Play()
		TweenService:Create(submitGlow, ANIM.SMOOTH, {ImageTransparency = 0.3}):Play()
	end)
	
	submitBtn.MouseLeave:Connect(function()
		TweenService:Create(submitBtn, ANIM.SMOOTH, {
			BackgroundTransparency = 0.1,
			Size = UDim2.fromOffset(440, 65)
		}):Play()
		TweenService:Create(submitStroke, ANIM.SMOOTH, {Transparency = 0.3, Thickness = 2}):Play()
		TweenService:Create(submitGlow, ANIM.SMOOTH, {ImageTransparency = 0.6}):Play()
	end)
	
	-- Status message
	local statusMsg = Instance.new("TextLabel", keyContainer)
	statusMsg.Size = UDim2.fromOffset(460, 30)
	statusMsg.Position = UDim2.fromOffset(20, 395)
	statusMsg.BackgroundTransparency = 1
	statusMsg.Text = ""
	statusMsg.Font = Enum.Font.GothamBold
	statusMsg.TextSize = 14
	statusMsg.TextColor3 = COLORS.WARNING
	statusMsg.ZIndex = 202
	
	-- Discord link
	local discordLabel = Instance.new("TextLabel", keyContainer)
	discordLabel.Size = UDim2.fromOffset(460, 25)
	discordLabel.Position = UDim2.fromOffset(20, 435)
	discordLabel.BackgroundTransparency = 1
	discordLabel.Text = "üí¨ discord.gg/duGj8hjB - Get your key!"
	discordLabel.Font = Enum.Font.Gotham
	discordLabel.TextSize = 13
	discordLabel.TextColor3 = COLORS.TEXT_MUTED
	discordLabel.ZIndex = 202
	
	-- Submit logic
	local function attemptAuth()
		local inputText = keyInput.Text
		
		if inputText == "" then
			statusMsg.Text = "‚ö†Ô∏è Please enter a key"
			statusMsg.TextColor3 = COLORS.WARNING
			return
		end
		
		submitBtn.Text = "üîÑ CHECKING..."
		submitBtn.BackgroundColor3 = COLORS.WARNING
		
		task.wait(0.5)
		
		if validateKey(inputText) then
			statusMsg.Text = "‚úÖ KEY VALID - WELCOME!"
			statusMsg.TextColor3 = COLORS.SUCCESS
			submitBtn.Text = "‚úÖ AUTHENTICATED"
			submitBtn.BackgroundColor3 = COLORS.SUCCESS
			
			keyAuthenticated = true
			
			task.wait(1)
			
			-- Close key system
			TweenService:Create(blur, TweenInfo.new(0.4), {BackgroundTransparency = 1}):Play()
			TweenService:Create(keyContainer, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
				Size = UDim2.fromOffset(0, 0),
				Position = UDim2.new(0.5, 0, 0.5, 0)
			}):Play()
			
			task.wait(0.5)
			keySystemUI:Destroy()
			
			-- Show main UI
			main.Visible = true
			print("‚úÖ Ducky Hub authenticated successfully!")
		else
			statusMsg.Text = "‚ùå INVALID KEY"
			statusMsg.TextColor3 = COLORS.DANGER
			submitBtn.Text = "‚ùå FAILED"
			submitBtn.BackgroundColor3 = COLORS.DANGER
			
			-- Shake animation
			for i = 1, 3 do
				TweenService:Create(keyContainer, TweenInfo.new(0.05), {
					Position = UDim2.new(0.5, -10, 0.5, 0)
				}):Play()
				task.wait(0.05)
				TweenService:Create(keyContainer, TweenInfo.new(0.05), {
					Position = UDim2.new(0.5, 10, 0.5, 0)
				}):Play()
				task.wait(0.05)
			end
			
			TweenService:Create(keyContainer, TweenInfo.new(0.1), {
				Position = UDim2.new(0.5, 0, 0.5, 0)
			}):Play()
			
			task.wait(1.5)
			submitBtn.Text = "üîë AUTHENTICATE"
			submitBtn.BackgroundColor3 = COLORS.ACCENT
			keyInput.Text = ""
		end
	end
	
	submitBtn.MouseButton1Click:Connect(attemptAuth)
	keyInput.FocusLost:Connect(function(enterPressed)
		if enterPressed then
			attemptAuth()
		end
	end)
	
	-- Animate entrance
	TweenService:Create(blur, TweenInfo.new(0.4), {BackgroundTransparency = 0.3}):Play()
	TweenService:Create(keyContainer, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Size = UDim2.fromOffset(500, 480)
	}):Play()
end

--======================
-- TAB TOGGLE FUNCTIONALITY
--======================

local menuVisible = false

UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	
	if input.KeyCode == Enum.KeyCode.Tab then
		if not keyAuthenticated then
			-- Show key system if not authenticated
			if not keySystemUI or not keySystemUI.Parent then
				createKeySystem()
			end
			return
		end
		
		menuVisible = not menuVisible
		
		if menuVisible then
			-- Show menu
			main.Visible = true
			TweenService:Create(main, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
				Size = UDim2.fromOffset(720, 480),
				Position = UDim2.new(0.5, -360, 0.5, -240),
				BackgroundTransparency = 0.12
			}):Play()
			
			-- Fade in all elements
			for _, child in pairs(main:GetDescendants()) do
				if child:IsA("TextLabel") or child:IsA("TextButton") then
					TweenService:Create(child, TweenInfo.new(0.3), {TextTransparency = 0}):Play()
				elseif child:IsA("Frame") or child:IsA("ImageLabel") then
					if child.BackgroundColor3 == COLORS.BG_GLASS or child.BackgroundColor3 == COLORS.BG_CARD then
						local targetTrans = child.Name:find("container") and 0.4 or 0.3
						TweenService:Create(child, TweenInfo.new(0.3), {BackgroundTransparency = targetTrans}):Play()
					end
				elseif child:IsA("UIStroke") then
					TweenService:Create(child, TweenInfo.new(0.3), {Transparency = child.Parent.Name:find("NavButton") and 0.75 or 0.65}):Play()
				end
			end
		else
			-- Hide menu
			TweenService:Create(main, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
				Size = UDim2.fromOffset(0, 0),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				BackgroundTransparency = 1
			}):Play()
			
			-- Fade out all elements
			for _, child in pairs(main:GetDescendants()) do
				if child:IsA("TextLabel") or child:IsA("TextButton") then
					TweenService:Create(child, TweenInfo.new(0.3), {TextTransparency = 1}):Play()
				elseif child:IsA("Frame") or child:IsA("ImageLabel") then
					TweenService:Create(child, TweenInfo.new(0.3), {BackgroundTransparency = 1, ImageTransparency = 1}):Play()
				elseif child:IsA("UIStroke") then
					TweenService:Create(child, TweenInfo.new(0.3), {Transparency = 1}):Play()
				end
			end
			
			task.wait(0.4)
			main.Visible = false
		end
	end
end)

--======================
-- INITIALIZE KEY SYSTEM
--======================

-- Hide main UI initially
main.Visible = false

-- Show key system on startup
createKeySystem()

print("üîë Key system loaded - Press TAB to toggle menu")
print("üí¨ Get your key at: discord.gg/duGj8hjB")
